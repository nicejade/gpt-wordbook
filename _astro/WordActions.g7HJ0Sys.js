const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/toImg.DFigmBwc.js","_astro/rasterize-JS5G2XHH.BqRecWAZ.js","_astro/toCanvas.Bnv8dpTe.js","_astro/render.DHABeUvw.js","_astro/preload-helper.BlTxHScW.js","_astro/index.BYjXC67p.css","_astro/toBlob.D_bJSbTj.js","_astro/download.CTmWpkl1.js"])))=>i.map(i=>d[i]);
import{f as Gt,h as me,d as Jt,E as Kt,r as Qt,H as Zt,i as er,s as tr,j as Je,k as rr,l as Ke,n as nr,U as ar,o as or,q as ir,v as lr,b as sr,w as cr,x as ur,y as Z,z as Le,A as fr,B as Fe,C as dr,D as G,F as se,G as Qe,I as mr,J as ee,K as Ze,L as xt}from"./render.DHABeUvw.js";import{_ as W}from"./preload-helper.BlTxHScW.js";/* empty css                       */const hr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(hr);function pr(e,t,r=!1){me&&Jt();var n=e,o=null,a=null,i=ar,l=r?Kt:0,s=!1;const c=(g,m=!0)=>{s=!0,p(m,g)};var u=null;function h(){u!==null&&(u.lastChild.remove(),n.before(u),u=null);var g=i?o:a,m=i?a:o;g&&ir(g),m&&lr(m,()=>{i?a=null:o=null})}const p=(g,m)=>{if(i===(i=g))return;let f=!1;if(me){const C=Qt(n)===Zt;!!i===C&&(n=er(),tr(n),Je(!1),f=!0)}var d=or(),b=n;if(d&&(u=document.createDocumentFragment(),u.append(b=rr())),i?o??=m&&Ke(()=>m(b)):a??=m&&Ke(()=>m(b)),d){var w=nr,x=i?o:a,y=i?a:o;x&&w.skipped_effects.delete(x),y&&w.skipped_effects.add(y),w.add_callback(h)}else h();f&&Je(!0)};Gt(()=>{s=!1,t(c),s||p(null,null)},l),me&&(n=sr)}function gr(e,t,r){var n=e==null?"":""+e;return n=n?n+" "+t:t,n===""?null:n}function yr(e,t,r,n,o,a){var i=e.__className;if(me||i!==r||i===void 0){var l=gr(r,n);(!me||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=r}return a}var v={image:new Map,background:new Map,resource:new Map,defaultStyle:new Map,baseStyle:new Map,computedStyle:new WeakMap,font:new Set,session:{styleMap:new Map,styleCache:new WeakMap,nodeMap:new Map}};function wr(e="soft"){switch(v.session.__counterEpoch=(v.session.__counterEpoch||0)+1,e){case"auto":{v.session.styleMap=new Map,v.session.nodeMap=new Map;return}case"soft":{v.session.styleMap=new Map,v.session.nodeMap=new Map,v.session.styleCache=new WeakMap;return}case"full":return;case"disabled":{v.session.styleMap=new Map,v.session.nodeMap=new Map,v.session.styleCache=new WeakMap,v.computedStyle=new WeakMap,v.baseStyle=new Map,v.defaultStyle=new Map,v.image=new Map,v.background=new Map,v.resource=new Map,v.font=new Set;return}default:{v.session.styleMap=new Map,v.session.nodeMap=new Map,v.session.styleCache=new WeakMap;return}}}function Be(e){let t=e.match(/url\((['"]?)(.*?)(\1)\)/);if(!t)return null;let r=t[2].trim();return r.startsWith("#")?null:r}function br(e){if(!e||e==="none")return"";let t=e.replace(/translate[XY]?\([^)]*\)/g,"");return t=t.replace(/matrix\(([^)]+)\)/g,(r,n)=>{let o=n.split(",").map(a=>a.trim());return o.length!==6?`matrix(${n})`:(o[4]="0",o[5]="0",`matrix(${o.join(", ")})`)}),t=t.replace(/matrix3d\(([^)]+)\)/g,(r,n)=>{let o=n.split(",").map(a=>a.trim());return o.length!==16?`matrix3d(${n})`:(o[12]="0",o[13]="0",`matrix3d(${o.join(", ")})`)}),t.trim().replace(/\s{2,}/g," ")}function Me(e){if(/%[0-9A-Fa-f]{2}/.test(e))return e;try{return encodeURI(e)}catch{return e}}function xr(e="[snapDOM]",{ttlMs:t=5*6e4,maxEntries:r=12}={}){let n=new Map,o=0;function a(i,l,s){if(o>=r)return;let c=Date.now();(n.get(l)||0)>c||(n.set(l,c+t),o++,i==="warn"&&console&&console.warn?console.warn(`${e} ${s}`):console&&console.error&&console.error(`${e} ${s}`))}return{warnOnce(i,l){a("warn",i,l)},errorOnce(i,l){a("error",i,l)},reset(){n.clear(),o=0}}}var et=xr("[snapDOM]",{ttlMs:3*6e4,maxEntries:10}),Ne=new Map,xe=new Map;function vr(e){return/^data:|^blob:|^about:blank$/i.test(e)}function Sr(e,t){try{let r=typeof location<"u"&&location.href?location.href:"http://localhost/",n=t.includes("{url}")?t.split("{url}")[0]:t,o=new URL(n||".",r),a=new URL(e,r);if(a.origin===o.origin)return!0;let i=a.searchParams;if(i&&(i.has("url")||i.has("target")))return!0}catch{}return!1}function Cr(e,t){if(!t||vr(e)||Sr(e,t))return!1;try{let r=typeof location<"u"&&location.href?location.href:"http://localhost/",n=new URL(e,r);return typeof location<"u"?n.origin!==location.origin:!0}catch{return!!t}}function kr(e,t){if(!t)return e;if(t.includes("{url}"))return t.replace("{urlRaw}",Me(e)).replace("{url}",encodeURIComponent(e));if(/[?&]url=?$/.test(t))return`${t}${encodeURIComponent(e)}`;if(t.endsWith("?"))return`${t}url=${encodeURIComponent(e)}`;if(t.endsWith("/"))return`${t}${Me(e)}`;let r=t.includes("?")?"&":"?";return`${t}${r}url=${encodeURIComponent(e)}`}function tt(e){return new Promise((t,r)=>{let n=new FileReader;n.onload=()=>t(String(n.result||"")),n.onerror=()=>r(new Error("read_failed")),n.readAsDataURL(e)})}function Mr(e,t){return[t.as||"blob",t.timeout??3e3,t.useProxy||"",t.errorTTL??8e3,e].join("|")}async function j(e,t={}){let r=t.as??"blob",n=t.timeout??3e3,o=t.useProxy||"",a=t.errorTTL??8e3,i=t.headers||{},l=!!t.silent;if(/^data:/i.test(e))try{if(r==="text")return{ok:!0,data:String(e),status:200,url:e,fromCache:!1};if(r==="dataURL")return{ok:!0,data:String(e),status:200,url:e,fromCache:!1,mime:String(e).slice(5).split(";")[0]||""};let[,d="",b=""]=String(e).match(/^data:([^,]*),(.*)$/)||[],w=/;base64/i.test(d)?atob(b):decodeURIComponent(b),x=new Uint8Array([...w].map(C=>C.charCodeAt(0))),y=new Blob([x],{type:(d||"").split(";")[0]||""});return{ok:!0,data:y,status:200,url:e,fromCache:!1,mime:y.type||""}}catch{return{ok:!1,data:null,status:0,url:e,fromCache:!1,reason:"special_url_error"}}if(/^blob:/i.test(e))try{let d=await fetch(e);if(!d.ok)return{ok:!1,data:null,status:d.status,url:e,fromCache:!1,reason:"http_error"};let b=await d.blob(),w=b.type||d.headers.get("content-type")||"";return r==="dataURL"?{ok:!0,data:await tt(b),status:d.status,url:e,fromCache:!1,mime:w}:r==="text"?{ok:!0,data:await b.text(),status:d.status,url:e,fromCache:!1,mime:w}:{ok:!0,data:b,status:d.status,url:e,fromCache:!1,mime:w}}catch{return{ok:!1,data:null,status:0,url:e,fromCache:!1,reason:"network"}}if(/^about:blank$/i.test(e))return r==="dataURL"?{ok:!0,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==",status:200,url:e,fromCache:!1,mime:"image/png"}:{ok:!0,data:r==="text"?"":new Blob([]),status:200,url:e,fromCache:!1};let s=Mr(e,{as:r,timeout:n,useProxy:o,errorTTL:a}),c=xe.get(s);if(c&&c.until>Date.now())return{...c.result,fromCache:!0};c&&xe.delete(s);let u=Ne.get(s);if(u)return u;let h=Cr(e,o)?kr(e,o):e,p=t.credentials;if(!p)try{let d=typeof location<"u"&&location.href?location.href:"http://localhost/",b=new URL(e,d);p=typeof location<"u"&&b.origin===location.origin?"include":"omit"}catch{p="omit"}let g=new AbortController,m=setTimeout(()=>g.abort("timeout"),n),f=(async()=>{try{let d=await fetch(h,{signal:g.signal,credentials:p,headers:i});if(!d.ok){let x={ok:!1,data:null,status:d.status,url:h,fromCache:!1,reason:"http_error"};if(a>0&&xe.set(s,{until:Date.now()+a,result:x}),!l){let y=`${d.status} ${d.statusText||""}`.trim();et.warnOnce(`http:${d.status}:${r}:${new URL(e,location?.href??"http://localhost/").origin}`,`HTTP error ${y} while fetching ${r} ${e}`)}return t.onError&&t.onError(x),x}if(r==="text")return{ok:!0,data:await d.text(),status:d.status,url:h,fromCache:!1};let b=await d.blob(),w=b.type||d.headers.get("content-type")||"";return r==="dataURL"?{ok:!0,data:await tt(b),status:d.status,url:h,fromCache:!1,mime:w}:{ok:!0,data:b,status:d.status,url:h,fromCache:!1,mime:w}}catch(d){let b=d&&typeof d=="object"&&"name"in d&&d.name==="AbortError"?String(d.message||"").includes("timeout")?"timeout":"abort":"network",w={ok:!1,data:null,status:0,url:h,fromCache:!1,reason:b};if(!/^blob:/i.test(e)&&a>0&&xe.set(s,{until:Date.now()+a,result:w}),!l){let x=`${b}:${r}:${new URL(e,location?.href??"http://localhost/").origin}`,y=b==="timeout"?`Timeout after ${n}ms. Consider increasing timeout or using a proxy for ${e}`:b==="abort"?`Request aborted while fetching ${r} ${e}`:`Network/CORS issue while fetching ${r} ${e}. A proxy may be required`;et.errorOnce(x,y)}return t.onError&&t.onError(w),w}finally{clearTimeout(m),Ne.delete(s)}})();return Ne.set(s,f),f}async function vt(e,t={}){if(/^((repeating-)?(linear|radial|conic)-gradient)\(/i.test(e)||e.trim()==="none")return e;let r=Be(e);if(!r)return e;let n=Me(r);if(v.background.has(n)){let o=v.background.get(n);return o?`url("${o}")`:"none"}try{let o=await j(n,{as:"dataURL",useProxy:t.useProxy});return o.ok?(v.background.set(n,o.data),`url("${o.data}")`):(v.background.set(n,null),"none")}catch{return v.background.set(n,null),"none"}}var $r=new Set(["meta","script","noscript","title","link","template"]),He=new Set(["meta","link","style","title","noscript","script","template","g","defs","use","marker","mask","clipPath","pattern","path","polygon","polyline","line","circle","ellipse","rect","filter","lineargradient","radialgradient","stop"]);function Ar(e){if(e=String(e).toLowerCase(),He.has(e)){let a={};return v.defaultStyle.set(e,a),a}if(v.defaultStyle.has(e))return v.defaultStyle.get(e);let t=document.getElementById("snapdom-sandbox");t||(t=document.createElement("div"),t.id="snapdom-sandbox",t.setAttribute("data-snapdom-sandbox","true"),t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="0px",t.style.height="0px",t.style.overflow="hidden",document.body.appendChild(t));let r=document.createElement(e);r.style.all="initial",t.appendChild(r);let n=getComputedStyle(r),o={};for(let a of n){if(St(a))continue;let i=n.getPropertyValue(a);o[a]=i}return t.removeChild(r),v.defaultStyle.set(e,o),o}var Er=/(?:^|-)(animation|transition)(?:-|$)/i,_r=/^(--|view-timeline|scroll-timeline|animation-trigger|offset-|position-try|app-region|interactivity|overlay|view-transition|-webkit-locale|-webkit-user-(?:drag|modify)|-webkit-tap-highlight-color|-webkit-text-security)$/i,Lr=new Set(["cursor","pointer-events","touch-action","user-select","print-color-adjust","speak","reading-flow","reading-order","anchor-name","anchor-scope","container-name","container-type","timeline-scope"]);function St(e){let t=String(e).toLowerCase();return!!(Lr.has(t)||_r.test(t)||Er.test(t))}function Re(e,t){if(t=String(t||"").toLowerCase(),He.has(t))return"";let r=[],n=Ar(t);for(let[o,a]of Object.entries(e)){if(St(o))continue;let i=n[o];a&&a!==i&&r.push(`${o}:${a}`)}return r.sort(),r.join(";")}function Fr(e){let t=new Set;return e.nodeType!==Node.ELEMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?[]:(e.tagName&&t.add(e.tagName.toLowerCase()),typeof e.querySelectorAll=="function"&&e.querySelectorAll("*").forEach(r=>t.add(r.tagName.toLowerCase())),Array.from(t))}function Nr(e){let t=new Map;for(let n of e){let o=v.defaultStyle.get(n);if(!o)continue;let a=Object.entries(o).map(([i,l])=>`${i}:${l};`).sort().join("");a&&(t.has(a)||t.set(a,[]),t.get(a).push(n))}let r="";for(let[n,o]of t.entries())r+=`${o.join(",")} { ${n} }
`;return r}function Tr(e){let t=Array.from(new Set(e.values())).filter(Boolean).sort(),r=new Map,n=1;for(let o of t)r.set(o,`c${n++}`);return r}function Ct(e,t=null){if(!(e instanceof Element))return window.getComputedStyle(e,t);let r=v.computedStyle.get(e);if(r||(r=new Map,v.computedStyle.set(e,r)),!r.has(t)){let n=window.getComputedStyle(e,t);r.set(t,n)}return r.get(t)}function rt(e){let t={};for(let r of e)t[r]=e.getPropertyValue(r);return t}function kt(e){let t=[],r=0,n=0;for(let o=0;o<e.length;o++){let a=e[o];a==="("&&r++,a===")"&&r--,a===","&&r===0&&(t.push(e.slice(n,o).trim()),n=o+1)}return t.push(e.slice(n).trim()),t}var Pr=[/font\s*awesome/i,/material\s*icons/i,/ionicons/i,/glyphicons/i,/feather/i,/bootstrap\s*icons/i,/remix\s*icons/i,/heroicons/i,/layui/i,/lucide/i],ne=Object.assign({materialIconsFilled:"https://fonts.gstatic.com/s/materialicons/v48/flUhRq6tzZclQEJ-Vdg-IuiaDsNcIhQ8tQ.woff2",materialIconsOutlined:"https://fonts.gstatic.com/s/materialiconsoutlined/v110/gok-H7zzDkdnRel8-DQ6KAXJ69wP1tGnf4ZGhUcel5euIg.woff2",materialIconsRound:"https://fonts.gstatic.com/s/materialiconsround/v109/LDItaoyNOAY6Uewc665JcIzCKsKc_M9flwmPq_HTTw.woff2",materialIconsSharp:"https://fonts.gstatic.com/s/materialiconssharp/v110/oPWQ_lt5nv4pWNJpghLP75WiFR4kLh3kvmvRImcycg.woff2"},typeof window<"u"&&window.__SNAPDOM_ICON_FONTS__||{}),Ie=[];function Rr(e){let t=Array.isArray(e)?e:[e];for(let r of t)r instanceof RegExp?Ie.push(r):typeof r=="string"?Ie.push(new RegExp(r,"i")):console.warn("[snapdom] Ignored invalid iconFont value:",r)}function V(e){let t=typeof e=="string"?e:"",r=[...Pr,...Ie];for(let n of r)if(n instanceof RegExp&&n.test(t))return!0;return!!(/icon/i.test(t)||/glyph/i.test(t)||/symbols/i.test(t)||/feather/i.test(t)||/fontawesome/i.test(t))}function Ir(e=""){let t=String(e).toLowerCase();return/\bmaterial\s*icons\b/.test(t)||/\bmaterial\s*symbols\b/.test(t)}var nt=new Map;function Wr(e=""){let t=Object.create(null),r=String(e||""),n=/['"]?\s*([A-Za-z]{3,4})\s*['"]?\s*([+-]?\d+(?:\.\d+)?)\s*/g,o;for(;o=n.exec(r);)t[o[1].toUpperCase()]=Number(o[2]);return t}async function Or(e,t,r){let n=String(e||""),o=n.toLowerCase(),a=String(t||"").toLowerCase();if(/\bmaterial\s*icons\b/.test(o)&&!/\bsymbols\b/.test(o))return{familyForMeasure:n,familyForCanvas:n};if(!/\bmaterial\s*symbols\b/.test(o))return{familyForMeasure:n,familyForCanvas:n};let i=r&&(r.FILL??r.fill),l="outlined";/\brounded\b/.test(a)||/\bround\b/.test(a)?l="rounded":/\bsharp\b/.test(a)?l="sharp":/\boutlined\b/.test(a)&&(l="outlined");let s=i===1,c=null;if(s&&(l==="outlined"&&ne.materialIconsFilled?c={url:ne.materialIconsFilled,alias:"snapdom-mi-filled"}:l==="rounded"&&ne.materialIconsRound?c={url:ne.materialIconsRound,alias:"snapdom-mi-round"}:l==="sharp"&&ne.materialIconsSharp&&(c={url:ne.materialIconsSharp,alias:"snapdom-mi-sharp"})),!c)return{familyForMeasure:n,familyForCanvas:n};if(!nt.has(c.alias))try{let h=new FontFace(c.alias,`url(${c.url})`,{style:"normal",weight:"400"});document.fonts.add(h),await h.load(),nt.set(c.alias,!0)}catch{return{familyForMeasure:n,familyForCanvas:n}}let u=`"${c.alias}"`;return{familyForMeasure:u,familyForCanvas:u}}async function Dr(e="Material Icons",t=24){try{await Promise.all([document.fonts.load(`400 ${t}px "${String(e).replace(/["']/g,"")}"`),document.fonts.ready])}catch{}}function qr(e){let t=e.getPropertyValue("-webkit-text-fill-color")?.trim()||"",r=/^transparent$/i.test(t)||/rgba?\(\s*0\s*,\s*0\s*,\s*0\s*,\s*0\s*\)/i.test(t);if(t&&!r&&t.toLowerCase()!=="currentcolor")return t;let n=e.color?.trim();return n&&n!=="inherit"?n:"#000"}async function jr(e,{family:t="Material Icons",weight:r="normal",fontSize:n=32,color:o="#000",variation:a="",className:i=""}={}){let l=String(t||"").replace(/^['"]+|['"]+$/g,""),s=window.devicePixelRatio||1,c=Wr(a),{familyForMeasure:u,familyForCanvas:h}=await Or(l,i,c);await Dr(h.replace(/^["']+|["']+$/g,""),n);let p=document.createElement("span");p.textContent=e,p.style.position="absolute",p.style.visibility="hidden",p.style.left="-99999px",p.style.whiteSpace="nowrap",p.style.fontFamily=u,p.style.fontWeight=String(r||"normal"),p.style.fontSize=`${n}px`,p.style.lineHeight="1",p.style.margin="0",p.style.padding="0",p.style.fontFeatureSettings="'liga' 1",p.style.fontVariantLigatures="normal",p.style.color=o,document.body.appendChild(p);let g=p.getBoundingClientRect(),m=Math.max(1,Math.ceil(g.width)),f=Math.max(1,Math.ceil(g.height));document.body.removeChild(p);let d=document.createElement("canvas");d.width=m*s,d.height=f*s;let b=d.getContext("2d");b.scale(s,s),b.font=`${r?`${r} `:""}${n}px ${h}`,b.textAlign="left",b.textBaseline="top",b.fillStyle=o;try{b.fontKerning="normal"}catch{}return b.fillText(e,0,0),{dataUrl:d.toDataURL(),width:m,height:f}}async function Ur(e,t){if(!(e instanceof Element))return 0;let r='.material-icons, [class*="material-symbols"]',n=Array.from(e.querySelectorAll(r)).filter(i=>i&&i.textContent&&i.textContent.trim());if(n.length===0)return 0;let o=t instanceof Element?Array.from(t.querySelectorAll(r)).filter(i=>i&&i.textContent&&i.textContent.trim()):[],a=0;for(let i=0;i<n.length;i++){let l=n[i],s=o[i]||null;try{let c=getComputedStyle(s||l),u=c.fontFamily||"Material Icons";if(!Ir(u))continue;let h=(s||l).textContent.trim();if(!h)continue;let p=parseInt(c.fontSize,10)||24,g=c.fontWeight&&c.fontWeight!=="normal"?c.fontWeight:"normal",m=qr(c),f=c.fontVariationSettings&&c.fontVariationSettings!=="normal"?c.fontVariationSettings:"",d=(s||l).className||"",{dataUrl:b,width:w,height:x}=await jr(h,{family:u,weight:g,fontSize:p,color:m,variation:f,className:d});l.textContent="";let y=l.ownerDocument.createElement("img");y.src=b,y.alt=h,y.style.height=`${p}px`,y.style.width=`${Math.max(1,Math.round(w/x*p))}px`,y.style.objectFit="contain",y.style.verticalAlign=getComputedStyle(l).verticalAlign||"baseline",l.appendChild(y),a++}catch{}}return a}async function Vr(e,t,r,n=32,o="#000"){t=t.replace(/^['"]+|['"]+$/g,"");let a=window.devicePixelRatio||1;try{await document.fonts.ready}catch{}let i=document.createElement("span");i.textContent=e,i.style.position="absolute",i.style.visibility="hidden",i.style.fontFamily=`"${t}"`,i.style.fontWeight=r||"normal",i.style.fontSize=`${n}px`,i.style.lineHeight="1",i.style.whiteSpace="nowrap",i.style.padding="0",i.style.margin="0",document.body.appendChild(i);let l=i.getBoundingClientRect(),s=Math.ceil(l.width),c=Math.ceil(l.height);document.body.removeChild(i);let u=document.createElement("canvas");u.width=Math.max(1,s*a),u.height=Math.max(1,c*a);let h=u.getContext("2d");return h.scale(a,a),h.font=r?`${r} ${n}px "${t}"`:`${n}px "${t}"`,h.textAlign="left",h.textBaseline="top",h.fillStyle=o,h.fillText(e,0,0),{dataUrl:u.toDataURL(),width:s,height:c}}var Br=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","emoji","math","fangsong","ui-serif","ui-sans-serif","ui-monospace","ui-rounded"]);function Ae(e){if(!e)return"";for(let t of e.split(",")){let r=t.trim().replace(/^['"]+|['"]+$/g,"");if(r&&!Br.has(r.toLowerCase()))return r}return""}function Se(e){let t=String(e??"400").trim().toLowerCase();if(t==="normal")return 400;if(t==="bold")return 700;let r=parseInt(t,10);return Number.isFinite(r)?Math.min(900,Math.max(100,r)):400}function Ce(e){let t=String(e??"normal").trim().toLowerCase();return t.startsWith("italic")?"italic":t.startsWith("oblique")?"oblique":"normal"}function Hr(e){let t=String(e??"100%").match(/(\d+(?:\.\d+)?)\s*%/);return t?Math.max(50,Math.min(200,parseFloat(t[1]))):100}function zr(e){let t=String(e||"400").trim(),r=t.match(/^(\d{2,3})\s+(\d{2,3})$/);if(r){let o=Se(r[1]),a=Se(r[2]);return{min:Math.min(o,a),max:Math.max(o,a)}}let n=Se(t);return{min:n,max:n}}function Xr(e){let t=String(e||"normal").trim().toLowerCase();return t==="italic"?{kind:"italic"}:t.startsWith("oblique")?{kind:"oblique"}:{kind:"normal"}}function Yr(e){let t=String(e||"100%").trim(),r=t.match(/(\d+(?:\.\d+)?)\s*%\s+(\d+(?:\.\d+)?)\s*%/);if(r){let a=parseFloat(r[1]),i=parseFloat(r[2]);return{min:Math.min(a,i),max:Math.max(a,i)}}let n=t.match(/(\d+(?:\.\d+)?)\s*%/),o=n?parseFloat(n[1]):100;return{min:o,max:o}}function Gr(e,t){if(!e)return!1;try{let r=new URL(e,location.href);if(r.origin===location.origin)return!0;let n=r.host.toLowerCase();if(["fonts.googleapis.com","fonts.gstatic.com","use.typekit.net","p.typekit.net","kit.fontawesome.com","use.fontawesome.com"].some(a=>n.endsWith(a)))return!0;let o=(r.pathname+r.search).toLowerCase();if(/\bfont(s)?\b/.test(o)||/\.woff2?(\b|$)/.test(o))return!0;for(let a of t){let i=a.toLowerCase().replace(/\s+/g,"+"),l=a.toLowerCase().replace(/\s+/g,"-");if(o.includes(i)||o.includes(l))return!0}return!1}catch{return!1}}function Jr(e){let t=new Set;for(let r of e||[]){let n=String(r).split("__")[0]?.trim();n&&t.add(n)}return t}function at(e,t){return e&&e.replace(/url\(\s*(['"]?)([^)'"]+)\1\s*\)/g,(r,n,o)=>{let a=(o||"").trim();if(!a||/^data:|^blob:|^https?:|^file:|^about:/i.test(a))return r;let i=a;try{i=new URL(a,t||location.href).href}catch{}return`url("${i}")`})}var We=/@import\s+(?:url\(\s*(['"]?)([^)"']+)\1\s*\)|(['"])([^"']+)\3)([^;]*);/g,$e=4;async function Kr(e,t,r){if(!e)return e;let n=new Set;function o(l,s){try{return new URL(l,s||location.href).href}catch{return l}}async function a(l,s,c=0){if(c>$e)return console.warn(`[snapDOM] @import depth exceeded (${$e}) at ${s}`),l;let u="",h=0,p;for(;p=We.exec(l);){u+=l.slice(h,p.index),h=We.lastIndex;let g=(p[2]||p[4]||"").trim(),m=o(g,s);if(n.has(m)){console.warn(`[snapDOM] Skipping circular @import: ${m}`);continue}n.add(m);let f="";try{let d=await j(m,{as:"text",useProxy:r,silent:!0});d.ok&&typeof d.data=="string"&&(f=d.data)}catch{}f?(f=at(f,m),f=await a(f,m,c+1),u+=`
/* inlined: ${m} */
${f}
`):u+=p[0]}return u+=l.slice(h),u}let i=at(e,t||location.href);return i=await a(i,t||location.href,0),i}var Mt=/url\((["']?)([^"')]+)\1\)/g,Qr=/@font-face[^{}]*\{[^}]*\}/g;function $t(e){if(!e)return[];let t=[],r=e.split(",").map(n=>n.trim()).filter(Boolean);for(let n of r){let o=n.match(/^U\+([0-9A-Fa-f?]+)(?:-([0-9A-Fa-f?]+))?$/);if(!o)continue;let a=o[1],i=o[2],l=s=>{if(!s.includes("?"))return parseInt(s,16);let c=parseInt(s.replace(/\?/g,"0"),16),u=parseInt(s.replace(/\?/g,"F"),16);return[c,u]};if(i){let s=l(a),c=l(i),u=Array.isArray(s)?s[0]:s,h=Array.isArray(c)?c[1]:c;t.push([Math.min(u,h),Math.max(u,h)])}else{let s=l(a);Array.isArray(s)?t.push([s[0],s[1]]):t.push([s,s])}}return t}function At(e,t){if(!t.length||!e||e.size===0)return!0;for(let r of e)for(let[n,o]of t)if(r>=n&&r<=o)return!0;return!1}function ze(e,t){let r=[];if(!e)return r;for(let n of e.matchAll(Mt)){let o=(n[2]||"").trim();if(!(!o||o.startsWith("data:"))){if(!/^https?:/i.test(o))try{o=new URL(o,t||location.href).href}catch{}r.push(o)}}return r}async function Et(e,t,r=""){let n=e;for(let o of e.matchAll(Mt)){let a=Be(o[0]);if(!a)continue;let i=a;if(!i.startsWith("http")&&!i.startsWith("data:"))try{i=new URL(i,t||location.href).href}catch{}if(!V(i)){if(v.resource?.has(i)){v.font?.add(i),n=n.replace(o[0],`url(${v.resource.get(i)})`);continue}if(!v.font?.has(i))try{let l=await j(i,{as:"dataURL",useProxy:r,silent:!0});if(l.ok&&typeof l.data=="string"){let s=l.data;v.resource?.set(i,s),v.font?.add(i),n=n.replace(o[0],`url(${s})`)}}catch{console.warn("[snapDOM] Failed to fetch font resource:",i)}}}return n}function Zr(e){if(!e.length)return null;let t=(i,l)=>e.some(([s,c])=>!(c<i||s>l)),r=t(0,255)||t(305,305),n=t(256,591)||t(7680,7935),o=t(880,1023),a=t(1024,1279);return t(7840,7929)||t(258,259)||t(416,417)||t(431,432)?"vietnamese":a?"cyrillic":o?"greek":n?"latin-ext":r?"latin":null}function ot(e={}){let t=new Set((e.families||[]).map(o=>String(o).toLowerCase())),r=new Set((e.domains||[]).map(o=>String(o).toLowerCase())),n=new Set((e.subsets||[]).map(o=>String(o).toLowerCase()));return(o,a)=>{if(t.size&&t.has(o.family.toLowerCase()))return!0;if(r.size)for(let i of o.srcUrls)try{if(r.has(new URL(i).host.toLowerCase()))return!0}catch{}if(n.size){let i=Zr(a);if(i&&n.has(i))return!0}return!1}}function en(e){if(!e)return e;let t=/@font-face[^{}]*\{[^}]*\}/gi,r=new Set,n=[];for(let a of e.match(t)||[]){let i=a.match(/font-family:\s*([^;]+);/i)?.[1]||"",l=Ae(i),s=(a.match(/font-weight:\s*([^;]+);/i)?.[1]||"400").trim(),c=(a.match(/font-style:\s*([^;]+);/i)?.[1]||"normal").trim(),u=(a.match(/font-stretch:\s*([^;]+);/i)?.[1]||"100%").trim(),h=(a.match(/unicode-range:\s*([^;]+);/i)?.[1]||"").trim(),p=(a.match(/src\s*:\s*([^;}]+)[;}]/i)?.[1]||"").trim(),g=ze(p,location.href),m=g.length?g.map(d=>String(d).toLowerCase()).sort().join("|"):p.toLowerCase(),f=[String(l||"").toLowerCase(),s,c,u,h.toLowerCase(),m].join("|");r.has(f)||(r.add(f),n.push(a))}if(n.length===0)return e;let o=0;return e.replace(t,()=>n[o++]||"")}function tn(e,t,r,n){let o=Array.from(e||[]).sort().join("|"),a=t?JSON.stringify({families:(t.families||[]).map(l=>String(l).toLowerCase()).sort(),domains:(t.domains||[]).map(l=>String(l).toLowerCase()).sort(),subsets:(t.subsets||[]).map(l=>String(l).toLowerCase()).sort()}):"",i=(r||[]).map(l=>`${(l.family||"").toLowerCase()}::${l.weight||"normal"}::${l.style||"normal"}::${l.src||""}`).sort().join("|");return`fonts-embed-css::req=${o}::ex=${a}::lf=${i}::px=${n||""}`}async function _t(e,t,r,n){let o;try{o=e.cssRules||[]}catch{return}let a=(i,l)=>{try{return new URL(i,l||location.href).href}catch{return i}};for(let i of o){if(i.type===CSSRule.IMPORT_RULE&&i.styleSheet){let l=i.href?a(i.href,t):t;if(n.depth>=$e){console.warn(`[snapDOM] CSSOM import depth exceeded (${$e}) at ${l}`);continue}if(l&&n.visitedSheets.has(l)){console.warn(`[snapDOM] Skipping circular CSSOM import: ${l}`);continue}l&&n.visitedSheets.add(l);let s={...n,depth:(n.depth||0)+1};await _t(i.styleSheet,l,r,s);continue}if(i.type===CSSRule.FONT_FACE_RULE){let l=(i.style.getPropertyValue("font-family")||"").trim(),s=Ae(l);if(!s||V(s))continue;let c=(i.style.getPropertyValue("font-weight")||"400").trim(),u=(i.style.getPropertyValue("font-style")||"normal").trim(),h=(i.style.getPropertyValue("font-stretch")||"100%").trim(),p=(i.style.getPropertyValue("src")||"").trim(),g=(i.style.getPropertyValue("unicode-range")||"").trim();if(!n.faceMatchesRequired(s,u,c,h))continue;let m=$t(g);if(!At(n.usedCodepoints,m))continue;let f={family:s,weightSpec:c,styleSpec:u,stretchSpec:h,unicodeRange:g,srcRaw:p,srcUrls:ze(p,t||location.href),href:t||location.href};if(n.simpleExcluder&&n.simpleExcluder(f,m))continue;if(/url\(/i.test(p)){let d=await Et(p,t||location.href,n.useProxy);await r(`@font-face{font-family:${s};src:${d};font-style:${u};font-weight:${c};font-stretch:${h};${g?`unicode-range:${g};`:""}}`)}else await r(`@font-face{font-family:${s};src:${p};font-style:${u};font-weight:${c};font-stretch:${h};${g?`unicode-range:${g};`:""}}`)}}}async function rn({required:e,usedCodepoints:t,exclude:r=void 0,localFonts:n=[],useProxy:o=""}={}){e instanceof Set||(e=new Set),t instanceof Set||(t=new Set);let a=new Map;for(let f of e){let[d,b,w,x]=String(f).split("__");if(!d)continue;let y=a.get(d)||[];y.push({w:parseInt(b,10),s:w,st:parseInt(x,10)}),a.set(d,y)}function i(f,d,b,w){if(!a.has(f))return!1;let x=a.get(f),y=zr(b),C=Xr(d),S=Yr(w),k=y.min!==y.max,A=y.min,N=$=>C.kind==="normal"&&$==="normal"||C.kind!=="normal"&&($==="italic"||$==="oblique"),T=!1;for(let $ of x){let P=k?$.w>=y.min&&$.w<=y.max:$.w===A,I=N(Ce($.s)),E=$.st>=S.min&&$.st<=S.max;if(P&&I&&E){T=!0;break}}if(T)return!0;if(!k)for(let $ of x){let P=N(Ce($.s)),I=$.st>=S.min&&$.st<=S.max;if(Math.abs(A-$.w)<=300&&P&&I)return!0}if(!k&&C.kind==="normal"&&x.some($=>Ce($.s)!=="normal"))for(let $ of x){let P=Math.abs(A-$.w)<=300,I=$.st>=S.min&&$.st<=S.max;if(P&&I)return!0}return!1}let l=ot(r),s=tn(e,r,n,o);if(v.resource?.has(s))return v.resource.get(s);let c=Jr(e),u=[],h=We;for(let f of document.querySelectorAll("style")){let d=f.textContent||"";for(let b of d.matchAll(h)){let w=(b[2]||b[4]||"").trim();!w||V(w)||document.querySelector(`link[rel="stylesheet"][href="${w}"]`)||u.push(w)}}u.length&&await Promise.all(u.map(f=>new Promise(d=>{if(document.querySelector(`link[rel="stylesheet"][href="${f}"]`))return d(null);let b=document.createElement("link");b.rel="stylesheet",b.href=f,b.setAttribute("data-snapdom","injected-import"),b.onload=()=>d(b),b.onerror=()=>d(null),document.head.appendChild(b)})));let p="",g=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).filter(f=>!!f.href);for(let f of g)try{if(V(f.href))continue;let d="",b=!1;try{b=new URL(f.href,location.href).origin===location.origin}catch{}if(!b&&!Gr(f.href,c))continue;if(b){let x=Array.from(document.styleSheets).find(y=>y.href===f.href);if(x)try{let y=x.cssRules||[];d=Array.from(y).map(C=>C.cssText).join("")}catch{}}if(!d&&(d=(await j(f.href,{as:"text",useProxy:o})).data,V(f.href)))continue;d=await Kr(d,f.href,o);let w="";for(let x of d.match(Qr)||[]){let y=(x.match(/font-family:\s*([^;]+);/i)?.[1]||"").trim(),C=Ae(y);if(!C||V(C))continue;let S=(x.match(/font-weight:\s*([^;]+);/i)?.[1]||"400").trim(),k=(x.match(/font-style:\s*([^;]+);/i)?.[1]||"normal").trim(),A=(x.match(/font-stretch:\s*([^;]+);/i)?.[1]||"100%").trim(),N=(x.match(/unicode-range:\s*([^;]+);/i)?.[1]||"").trim(),T=(x.match(/src\s*:\s*([^;}]+)[;}]/i)?.[1]||"").trim(),$=ze(T,f.href);if(!i(C,k,S,A))continue;let P=$t(N);if(!At(t,P))continue;let I={family:C,weightSpec:S,styleSpec:k,stretchSpec:A,unicodeRange:N,srcRaw:T,srcUrls:$,href:f.href};if(r&&l(I,P))continue;let E=/url\(/i.test(T)?await Et(x,f.href,o):x;w+=E}w.trim()&&(p+=w)}catch{console.warn("[snapDOM] Failed to process stylesheet:",f.href)}let m={requiredIndex:a,usedCodepoints:t,faceMatchesRequired:i,simpleExcluder:r?ot(r):null,useProxy:o,visitedSheets:new Set,depth:0};for(let f of document.styleSheets)if(!(f.href&&g.some(d=>d.href===f.href)))try{let d=f.href||location.href;d&&m.visitedSheets.add(d),await _t(f,d,async b=>{p+=b},m)}catch{}try{for(let f of document.fonts||[]){if(!f||!f.family||f.status!=="loaded"||!f._snapdomSrc)continue;let d=String(f.family).replace(/^['"]+|['"]+$/g,"");if(V(d)||!a.has(d)||r?.families&&r.families.some(w=>String(w).toLowerCase()===d.toLowerCase()))continue;let b=f._snapdomSrc;if(!String(b).startsWith("data:")){if(v.resource?.has(f._snapdomSrc))b=v.resource.get(f._snapdomSrc),v.font?.add(f._snapdomSrc);else if(!v.font?.has(f._snapdomSrc))try{let w=await j(f._snapdomSrc,{as:"dataURL",useProxy:o,silent:!0});if(w.ok&&typeof w.data=="string")b=w.data,v.resource?.set(f._snapdomSrc,b),v.font?.add(f._snapdomSrc);else continue}catch{console.warn("[snapDOM] Failed to fetch dynamic font src:",f._snapdomSrc);continue}}p+=`@font-face{font-family:'${d}';src:url(${b});font-style:${f.style||"normal"};font-weight:${f.weight||"normal"};}`}}catch{}for(let f of n){if(!f||typeof f!="object")continue;let d=String(f.family||"").replace(/^['"]+|['"]+$/g,"");if(!d||V(d)||!a.has(d)||r?.families&&r.families.some(S=>String(S).toLowerCase()===d.toLowerCase()))continue;let b=f.weight!=null?String(f.weight):"normal",w=f.style!=null?String(f.style):"normal",x=f.stretchPct!=null?`${f.stretchPct}%`:"100%",y=String(f.src||""),C=y;if(!C.startsWith("data:")){if(v.resource?.has(y))C=v.resource.get(y),v.font?.add(y);else if(!v.font?.has(y))try{let S=await j(y,{as:"dataURL",useProxy:o,silent:!0});if(S.ok&&typeof S.data=="string")C=S.data,v.resource?.set(y,C),v.font?.add(y);else continue}catch{console.warn("[snapDOM] Failed to fetch localFonts src:",y);continue}}p+=`@font-face{font-family:'${d}';src:url(${C});font-style:${w};font-weight:${b};font-stretch:${x};}`}return p&&(p=en(p),v.resource?.set(s,p)),p}function nn(e){let t=new Set;if(!e)return t;let r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null),n=i=>{let l=Ae(i.fontFamily);if(!l)return;let s=(c,u,h)=>`${l}__${Se(c)}__${Ce(u)}__${Hr(h)}`;t.add(s(i.fontWeight,i.fontStyle,i.fontStretch))};n(getComputedStyle(e));let o=getComputedStyle(e,"::before");o&&o.content&&o.content!=="none"&&n(o);let a=getComputedStyle(e,"::after");for(a&&a.content&&a.content!=="none"&&n(a);r.nextNode();){let i=r.currentNode,l=getComputedStyle(i);n(l);let s=getComputedStyle(i,"::before");s&&s.content&&s.content!=="none"&&n(s);let c=getComputedStyle(i,"::after");c&&c.content&&c.content!=="none"&&n(c)}return t}function an(e){let t=new Set,r=o=>{if(o)for(let a of o)t.add(a.codePointAt(0))},n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null);for(;n.nextNode();){let o=n.currentNode;if(o.nodeType===Node.TEXT_NODE)r(o.nodeValue||"");else if(o.nodeType===Node.ELEMENT_NODE){let a=o;for(let i of["::before","::after"]){let l=getComputedStyle(a,i)?.getPropertyValue("content");if(!(!l||l==="none"))if(/^"/.test(l)||/^'/.test(l))r(l.slice(1,-1));else{let s=l.match(/\\[0-9A-Fa-f]{1,6}/g);if(s)for(let c of s)try{t.add(parseInt(c.slice(1),16))}catch{}}}}}return t}async function on(e,t=2){try{await document.fonts.ready}catch{}let r=Array.from(e||[]).filter(Boolean);if(r.length===0)return;let n=()=>{let o=document.createElement("div");o.style.cssText="position:absolute!important;left:-9999px!important;top:0!important;opacity:0!important;pointer-events:none!important;contain:layout size style;";for(let a of r){let i=document.createElement("span");i.textContent="AaBbGg1234ÁÉÍÓÚçñ—∞",i.style.fontFamily=`"${a}"`,i.style.fontWeight="700",i.style.fontStyle="italic",i.style.fontSize="32px",i.style.lineHeight="1",i.style.whiteSpace="nowrap",i.style.margin="0",i.style.padding="0",o.appendChild(i)}document.body.appendChild(o),o.offsetWidth,document.body.removeChild(o)};for(let o=0;o<Math.max(1,t);o++)n(),await new Promise(a=>requestAnimationFrame(()=>requestAnimationFrame(a)))}async function ln(e,t,r,n={}){let o=[[e,t]],a=["background-image","mask","mask-image","-webkit-mask","-webkit-mask-image","mask-source","mask-box-image-source","mask-border-source","-webkit-mask-box-image-source","border-image","border-image-source"],i=["mask-position","mask-size","mask-repeat","-webkit-mask-position","-webkit-mask-size","-webkit-mask-repeat","mask-origin","mask-clip","-webkit-mask-origin","-webkit-mask-clip","-webkit-mask-position-x","-webkit-mask-position-y"],l=["background-position","background-position-x","background-position-y","background-size","background-repeat","background-origin","background-clip","background-attachment","background-blend-mode"],s=["border-image-slice","border-image-width","border-image-outset","border-image-repeat"];for(;o.length;){let[c,u]=o.shift(),h=r.get(c)||Ct(c);r.has(c)||r.set(c,h);let p=(()=>{let f=h.getPropertyValue("border-image"),d=h.getPropertyValue("border-image-source");return f&&f!=="none"||d&&d!=="none"})();for(let f of l){let d=h.getPropertyValue(f);d&&u.style.setProperty(f,d)}for(let f of a){let d=h.getPropertyValue(f);if(!d||d==="none")continue;let b=kt(d),w=await Promise.all(b.map(x=>vt(x,n)));w.some(x=>x&&x!=="none"&&!/^url\(undefined/.test(x))&&u.style.setProperty(f,w.join(", "))}for(let f of i){let d=h.getPropertyValue(f);!d||d==="initial"||u.style.setProperty(f,d)}if(p)for(let f of s){let d=h.getPropertyValue(f);!d||d==="initial"||u.style.setProperty(f,d)}let g=Array.from(c.children),m=Array.from(u.children).filter(f=>!(f.dataset&&f.dataset.snapdomPseudo));for(let f=0;f<Math.min(g.length,m.length);f++)o.push([g[f],m[f]])}}function oe(e,{fast:t=!1}={}){if(t)return e();"requestIdleCallback"in window?requestIdleCallback(e,{timeout:50}):setTimeout(e,1)}function ue(){if(typeof navigator>"u")return!1;let e=navigator.userAgent||"",t=e.toLowerCase(),r=t.includes("safari")&&!t.includes("chrome")&&!t.includes("crios")&&!t.includes("fxios")&&!t.includes("android"),n=/applewebkit/i.test(e),o=/mobile/i.test(e),a=!/safari/i.test(e),i=n&&o&&a,l=/(micromessenger|wxwork|wecom|windowswechat|macwechat)/i.test(e),s=/(baiduboxapp|baidubrowser|baidusearch|baiduboxlite)/i.test(t),c=/ipad|iphone|ipod/.test(t)&&n;return r||i||l||s||c}var he=[];function Lt(e){if(!e)return null;if(Array.isArray(e)){let[t,r]=e;return typeof t=="function"?t(r):t}if(typeof e=="object"&&"plugin"in e){let{plugin:t,options:r}=e;return typeof t=="function"?t(r):t}return typeof e=="function"?e():e}function sn(...e){let t=e.flat();for(let r of t){let n=Lt(r);n&&(he.some(o=>o&&o.name&&n.name&&o.name===n.name)||he.push(n))}}function Ft(e){return(e&&Array.isArray(e.plugins)?e.plugins:he)||he}async function K(e,t,r){let n=r,o=Ft(t);for(let a of o){let i=a&&typeof a[e]=="function"?a[e]:null;if(!i)continue;let l=await i(t,n);typeof l<"u"&&(n=l)}return n}async function cn(e,t,r){let n=[],o=Ft(t);for(let a of o){let i=a&&typeof a[e]=="function"?a[e]:null;if(!i)continue;let l=await i(t,r);typeof l<"u"&&n.push(l)}return n}function un(e){let t=[];if(Array.isArray(e))for(let r of e){let n=Lt(r);if(!n||!n.name)continue;let o=t.findIndex(a=>a&&a.name===n.name);o>=0&&t.splice(o,1),t.push(n)}for(let r of he)r&&r.name&&!t.some(n=>n.name===r.name)&&t.push(r);return Object.freeze(t)}function fn(e,t,r=!1){return!e||e.plugins&&!r||(e.plugins=un(t)),e}var it=new WeakMap,Oe=new Map,De=0;function fe(){De++}var lt=!1;function dn(e=document.documentElement){if(!lt){lt=!0;try{new MutationObserver(()=>fe()).observe(e,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch{}try{new MutationObserver(()=>fe()).observe(document.head,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch{}try{let t=document.fonts;t&&(t.addEventListener?.("loadingdone",fe),t.ready?.then(()=>fe()).catch(()=>{}))}catch{}}}function mn(e,t={}){let r={},n=e.getPropertyValue("visibility");for(let a=0;a<e.length;a++){let i=e[a],l=e.getPropertyValue(i);(i==="background-image"||i==="content")&&l.includes("url(")&&!l.includes("data:")&&(l="none"),r[i]=l}let o=["text-decoration-line","text-decoration-color","text-decoration-style","text-decoration-thickness","text-underline-offset","text-decoration-skip-ink"];for(let a of o)if(!r[a])try{let i=e.getPropertyValue(a);i&&(r[a]=i)}catch{}if(t.embedFonts){let a=["font-feature-settings","font-variation-settings","font-kerning","font-variant","font-variant-ligatures","font-optical-sizing"];for(let i of a)if(!r[i])try{let l=e.getPropertyValue(i);l&&(r[i]=l)}catch{}}return n==="hidden"&&(r.opacity="0"),r}var st=new WeakMap;function hn(e){let t=st.get(e);return t||(t=Object.entries(e).sort((r,n)=>r[0]<n[0]?-1:r[0]>n[0]?1:0).map(([r,n])=>`${r}:${n}`).join(";"),st.set(e,t),t)}function pn(e,t=null,r={}){let n=it.get(e);if(n&&n.epoch===De)return n.snapshot;let o=t||getComputedStyle(e),a=mn(o,r);return vn(e,o,a),it.set(e,{epoch:De,snapshot:a}),a}function gn(e,t){return e&&e.session&&e.persist?e:e&&(e.styleMap||e.styleCache||e.nodeMap)?{session:e,persist:{snapshotKeyCache:Oe,defaultStyle:v.defaultStyle,baseStyle:v.baseStyle,image:v.image,resource:v.resource,background:v.background,font:v.font},options:t||{}}:{session:v.session,persist:{snapshotKeyCache:Oe,defaultStyle:v.defaultStyle,baseStyle:v.baseStyle,image:v.image,resource:v.resource,background:v.background,font:v.font},options:e||t||{}}}async function ie(e,t,r,n){if(e.tagName==="STYLE")return;let o=gn(r,n),a=o.options&&o.options.cache||"auto";if(a!=="disabled"&&dn(document.documentElement),a==="disabled"&&!o.session.__bumpedForDisabled&&(fe(),Oe.clear(),o.session.__bumpedForDisabled=!0),He.has(e.tagName?.toLowerCase())){let p=e.getAttribute?.("style");p&&t.setAttribute("style",p)}let{session:i,persist:l}=o;i.styleCache.has(e)||i.styleCache.set(e,getComputedStyle(e));let s=i.styleCache.get(e),c=pn(e,s,o.options),u=hn(c),h=l.snapshotKeyCache.get(u);if(!h){let p=e.tagName?.toLowerCase()||"div";h=Re(c,p),l.snapshotKeyCache.set(u,h)}i.styleMap.set(t,h)}function yn(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof HTMLIFrameElement||e instanceof SVGElement||e instanceof HTMLObjectElement||e instanceof HTMLEmbedElement}function wn(e){return e.backgroundImage&&e.backgroundImage!=="none"||e.backgroundColor&&e.backgroundColor!=="rgba(0, 0, 0, 0)"&&e.backgroundColor!=="transparent"||(parseFloat(e.borderTopWidth)||0)>0||(parseFloat(e.borderBottomWidth)||0)>0||(parseFloat(e.paddingTop)||0)>0||(parseFloat(e.paddingBottom)||0)>0?!0:(e.overflowBlock||e.overflowY||"visible")!=="visible"}function bn(e){let t=e.parentElement;if(!t)return!1;let r=getComputedStyle(t).display||"";return r.includes("flex")||r.includes("grid")}function xn(e,t){if(e.textContent&&/\S/.test(e.textContent))return!0;let r=e.firstElementChild,n=e.lastElementChild;if(r&&r.tagName==="BR"||n&&n.tagName==="BR")return!0;let o=e.scrollHeight;if(o===0)return!1;let a=parseFloat(t.paddingTop)||0,i=parseFloat(t.paddingBottom)||0;return o>a+i}function vn(e,t,r){if(e instanceof HTMLElement&&e.style&&e.style.height)return;let n=e.tagName&&e.tagName.toLowerCase();if(!n||n!=="div"&&n!=="section"&&n!=="article"&&n!=="main"&&n!=="aside"&&n!=="header"&&n!=="footer"&&n!=="nav"&&n!=="ol"&&n!=="ul"&&n!=="li")return;let o=t.display||"";if(o.includes("flex")||o.includes("grid")||yn(e))return;let a=t.position;if(a==="absolute"||a==="fixed"||a==="sticky"||t.transform!=="none"||wn(t)||bn(e))return;let i=t.overflowX||t.overflow||"visible",l=t.overflowY||t.overflow||"visible";if(i!=="visible"||l!=="visible")return;let s=t.clip;s&&s!=="auto"&&s!=="rect(auto, auto, auto, auto)"||t.visibility==="hidden"||t.opacity==="0"||xn(e,t)&&(delete r.height,delete r["block-size"])}var Nt=["fill","stroke","color","background-color","stop-color"],ct=new Map;function Sn(e,t){let r=t+"::"+e.toLowerCase(),n=ct.get(r);if(n)return n;let o=document,a=t==="http://www.w3.org/2000/svg"?o.createElementNS(t,e):o.createElement(e),i=o.createElement("div");i.style.cssText="position:absolute;left:-99999px;top:-99999px;contain:strict;display:block;",i.appendChild(a),o.documentElement.appendChild(i);let l=getComputedStyle(a),s={};for(let c of Nt)s[c]=l.getPropertyValue(c)||"";return i.remove(),ct.set(r,s),s}function Cn(e,t){if(!(e instanceof Element)||!(t instanceof Element))return;let r=e.getAttribute?.("style"),n=!!(r&&r.includes("var("));if(!n&&e.attributes?.length){let a=e.attributes;for(let i=0;i<a.length;i++){let l=a[i];if(l&&typeof l.value=="string"&&l.value.includes("var(")){n=!0;break}}}let o=null;if(n)try{o=getComputedStyle(e)}catch{}if(n){let a=e.style;if(a&&a.length)for(let i=0;i<a.length;i++){let l=a[i],s=a.getPropertyValue(l);if(!s||!s.includes("var("))continue;let c=o&&o.getPropertyValue(l);if(c)try{t.style.setProperty(l,c.trim(),a.getPropertyPriority(l))}catch{}}}if(n&&e.attributes?.length){let a=e.attributes;for(let i=0;i<a.length;i++){let l=a[i];if(!l||typeof l.value!="string"||!l.value.includes("var("))continue;let s=l.name,c=o&&o.getPropertyValue(s);if(c)try{t.style.setProperty(s,c.trim())}catch{}}}if(!n){if(!o)try{o=getComputedStyle(e)}catch{o=null}if(!o)return;let a=e.namespaceURI||"html",i=Sn(e.tagName,a);for(let l of Nt){let s=o.getPropertyValue(l)||"",c=i[l]||"";if(s&&s!==c)try{t.style.setProperty(l,s.trim())}catch{}}}}function Te(e,t,r){return Promise.all(e.map(n=>new Promise(o=>{function a(){oe(i=>{!(i&&typeof i.timeRemaining=="function")||i.timeRemaining()>0?t(n,o):a()},{fast:r})}a()})))}function kn(e){return e=e.trim(),!e||/:not\(\s*\[data-sd-slotted\]\s*\)\s*$/.test(e)?e:`${e}:not([data-sd-slotted])`}function Mn(e,t,r=!0){return e.split(",").map(n=>n.trim()).filter(Boolean).map(n=>{if(n.startsWith(":where(")||n.startsWith("@"))return n;let o=r?kn(n):n;return`:where(${t} ${o})`}).join(", ")}function $n(e,t){return e?(e=e.replace(/:host\(([^)]+)\)/g,(r,n)=>`:where(${t}:is(${n.trim()}))`),e=e.replace(/:host\b/g,`:where(${t})`),e=e.replace(/:host-context\(([^)]+)\)/g,(r,n)=>`:where(:where(${n.trim()}) ${t})`),e=e.replace(/::slotted\(([^)]+)\)/g,(r,n)=>`:where(${t} ${n.trim()})`),e=e.replace(/(^|})(\s*)([^@}{]+){/g,(r,n,o,a)=>{let i=Mn(a,t,!0);return`${n}${o}${i}{`}),e):""}function An(e){return e.shadowScopeSeq=(e.shadowScopeSeq||0)+1,`s${e.shadowScopeSeq}`}function En(e){let t="";try{e.querySelectorAll("style").forEach(n=>{t+=(n.textContent||"")+`
`});let r=e.adoptedStyleSheets||[];for(let n of r)try{if(n&&n.cssRules)for(let o of n.cssRules)t+=o.cssText+`
`}catch{}}catch{}return t}function _n(e,t,r){if(!t)return;let n=document.createElement("style");n.setAttribute("data-sd",r),n.textContent=t,e.insertBefore(n,e.firstChild||null)}function Ln(e,t){try{let r=e.currentSrc||e.src||"";if(!r)return;t.setAttribute("src",r),t.removeAttribute("srcset"),t.removeAttribute("sizes"),t.loading="eager",t.decoding="sync"}catch{}}function Fn(e){let t=new Set;if(!e)return t;let r=/var\(\s*(--[A-Za-z0-9_-]+)\b/g,n;for(;n=r.exec(e);)t.add(n[1]);return t}function Nn(e,t){try{let r=getComputedStyle(e).getPropertyValue(t).trim();if(r)return r}catch{}try{let r=getComputedStyle(document.documentElement).getPropertyValue(t).trim();if(r)return r}catch{}return""}function Tn(e,t,r){let n=[];for(let o of t){let a=Nn(e,o);a&&n.push(`${o}: ${a};`)}return n.length?`${r}{${n.join("")}}
`:""}function Pn(e){e&&(e.nodeType===Node.ELEMENT_NODE&&e.setAttribute("data-sd-slotted",""),e.querySelectorAll&&e.querySelectorAll("*").forEach(t=>t.setAttribute("data-sd-slotted","")))}async function Rn(e,t=3){let r=()=>{try{return e.contentDocument||e.contentWindow?.document||null}catch{return null}},n=r(),o=0;for(;o<t&&(!n||!n.body&&!n.documentElement);)await new Promise(a=>setTimeout(a,0)),n=r(),o++;return n&&(n.body||n.documentElement)?n:null}function In(e){let t=e.getBoundingClientRect(),r=0,n=0,o=0,a=0;try{let s=getComputedStyle(e);r=parseFloat(s.borderLeftWidth)||0,n=parseFloat(s.borderRightWidth)||0,o=parseFloat(s.borderTopWidth)||0,a=parseFloat(s.borderBottomWidth)||0}catch{}let i=Math.max(0,Math.round(t.width-(r+n))),l=Math.max(0,Math.round(t.height-(o+a)));return{contentWidth:i,contentHeight:l,rect:t}}function Wn(e,t,r){let n=e.createElement("style");return n.setAttribute("data-sd-iframe-pin",""),n.textContent=`html, body {margin: 0 !important;padding: 0 !important;width: ${t}px !important;height: ${r}px !important;min-width: ${t}px !important;min-height: ${r}px !important;box-sizing: border-box !important;overflow: hidden !important;background-clip: border-box !important;}`,(e.head||e.documentElement).appendChild(n),()=>{try{n.remove()}catch{}}}async function On(e,t,r){let n=await Rn(e,3);if(!n)throw new Error("iframe document not accessible/ready");let{contentWidth:o,contentHeight:a,rect:i}=In(e),l=r?.snap;if(!l||typeof l.toPng!="function")throw new Error("snapdom.toPng not available in iframe or window");let s={...r,scale:1},c=Wn(n,o,a),u;try{u=await l.toPng(n.documentElement,s)}finally{c()}u.style.display="block",u.style.width=`${o}px`,u.style.height=`${a}px`;let h=document.createElement("div");return t.nodeMap.set(h,e),ie(e,h,t,r),h.style.overflow="hidden",h.style.display="block",h.style.width||(h.style.width=`${Math.round(i.width)}px`),h.style.height||(h.style.height=`${Math.round(i.height)}px`),h.appendChild(u),h}var ce=new Map;async function de(e){if(v.resource?.has(e))return v.resource.get(e);if(ce.has(e))return ce.get(e);let t=(async()=>{let r=await j(e,{as:"dataURL",silent:!0});if(!r.ok||typeof r.data!="string")throw new Error(`[snapDOM] Failed to read blob URL: ${e}`);return v.resource?.set(e,r.data),r.data})();ce.set(e,t);try{let r=await t;return ce.set(e,r),r}catch(r){throw ce.delete(e),r}}var Dn=/\bblob:[^)"'\s]+/g;async function ut(e){if(!e||e.indexOf("blob:")===-1)return e;let t=Array.from(new Set(e.match(Dn)||[]));if(t.length===0)return e;let r=e;for(let n of t)try{let o=await de(n);r=r.split(n).join(o)}catch{}return r}function ve(e){return typeof e=="string"&&e.startsWith("blob:")}function qn(e){return(e||"").split(",").map(t=>t.trim()).filter(Boolean).map(t=>{let r=t.match(/^(\S+)(\s+.+)?$/);return r?{url:r[1],desc:r[2]||""}:null}).filter(Boolean)}function jn(e){return e.map(t=>t.desc?`${t.url} ${t.desc.trim()}`:t.url).join(", ")}async function Un(e){if(!e)return;let t=e.querySelectorAll?e.querySelectorAll("img"):[];for(let i of t)try{let l=i.getAttribute("src")||i.currentSrc||"";if(ve(l)){let c=await de(l);i.setAttribute("src",c)}let s=i.getAttribute("srcset");if(s&&s.includes("blob:")){let c=qn(s),u=!1;for(let h of c)if(ve(h.url))try{h.url=await de(h.url),u=!0}catch{}u&&i.setAttribute("srcset",jn(c))}}catch{}let r=e.querySelectorAll?e.querySelectorAll("image"):[];for(let i of r)try{let l="http://www.w3.org/1999/xlink",s=i.getAttribute("href")||i.getAttributeNS?.(l,"href");if(ve(s)){let c=await de(s);i.setAttribute("href",c),i.removeAttributeNS?.(l,"href")}}catch{}let n=e.querySelectorAll?e.querySelectorAll("[style*='blob:']"):[];for(let i of n)try{let l=i.getAttribute("style");if(l&&l.includes("blob:")){let s=await ut(l);i.setAttribute("style",s)}}catch{}let o=e.querySelectorAll?e.querySelectorAll("style"):[];for(let i of o)try{let l=i.textContent||"";l.includes("blob:")&&(i.textContent=await ut(l))}catch{}let a=["poster"];for(let i of a){let l=e.querySelectorAll?e.querySelectorAll(`[${i}^='blob:']`):[];for(let s of l)try{let c=s.getAttribute(i);ve(c)&&s.setAttribute(i,await de(c))}catch{}}}async function ke(e,t,r){if(!e)throw new Error("Invalid node");let n=new Set,o=null,a=null;if(e.nodeType===Node.ELEMENT_NODE){let c=(e.localName||e.tagName||"").toLowerCase();if(e.id==="snapdom-sandbox"||e.hasAttribute("data-snapdom-sandbox")||$r.has(c))return null}if(e.nodeType===Node.TEXT_NODE||e.nodeType!==Node.ELEMENT_NODE)return e.cloneNode(!0);if(e.getAttribute("data-capture")==="exclude"){if(r.excludeMode==="hide"){let c=document.createElement("div"),u=e.getBoundingClientRect();return c.style.cssText=`display:inline-block;width:${u.width}px;height:${u.height}px;visibility:hidden;`,c}else if(r.excludeMode==="remove")return null}if(r.exclude&&Array.isArray(r.exclude))for(let c of r.exclude)try{if(e.matches?.(c)){if(r.excludeMode==="hide"){let u=document.createElement("div"),h=e.getBoundingClientRect();return u.style.cssText=`display:inline-block;width:${h.width}px;height:${h.height}px;visibility:hidden;`,u}else if(r.excludeMode==="remove")return null}}catch(u){console.warn(`Invalid selector in exclude option: ${c}`,u)}if(typeof r.filter=="function")try{if(!r.filter(e)){if(r.filterMode==="hide"){let c=document.createElement("div"),u=e.getBoundingClientRect();return c.style.cssText=`display:inline-block;width:${u.width}px;height:${u.height}px;visibility:hidden;`,c}else if(r.filterMode==="remove")return null}}catch(c){console.warn("Error in filter function:",c)}if(e.tagName==="IFRAME"){let c=!1;try{c=!!(e.contentDocument||e.contentWindow?.document)}catch{c=!1}if(c)try{return await On(e,t,r)}catch(u){console.warn("[SnapDOM] iframe rasterization failed, fallback:",u)}if(r.placeholders){let u=document.createElement("div");return u.style.cssText=`width:${e.offsetWidth}px;height:${e.offsetHeight}px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;`,ie(e,u,t,r),u}else{let u=e.getBoundingClientRect(),h=document.createElement("div");return h.style.cssText=`display:inline-block;width:${u.width}px;height:${u.height}px;visibility:hidden;`,ie(e,h,t,r),h}}if(e.getAttribute("data-capture")==="placeholder"){let c=e.cloneNode(!1);t.nodeMap.set(c,e),ie(e,c,t,r);let u=document.createElement("div");return u.textContent=e.getAttribute("data-placeholder-text")||"",u.style.cssText="color:#666;font-size:12px;text-align:center;line-height:1.4;padding:0.5em;box-sizing:border-box;",c.appendChild(u),c}if(e.tagName==="CANVAS"){let c="";try{let h=e.getContext("2d",{willReadFrequently:!0});try{h&&h.getImageData(0,0,1,1)}catch{}if(await new Promise(p=>requestAnimationFrame(p)),c=e.toDataURL("image/png"),!c||c==="data:,"){try{h&&h.getImageData(0,0,1,1)}catch{}if(await new Promise(p=>requestAnimationFrame(p)),c=e.toDataURL("image/png"),!c||c==="data:,"){let p=document.createElement("canvas");p.width=e.width,p.height=e.height;let g=p.getContext("2d");g&&(g.drawImage(e,0,0),c=p.toDataURL("image/png"))}}}catch{}let u=document.createElement("img");try{u.decoding="sync",u.loading="eager"}catch{}c&&(u.src=c),u.width=e.width,u.height=e.height;try{let h=getComputedStyle(e);h.width&&(u.style.width=h.width),h.height&&(u.style.height=h.height)}catch{}return t.nodeMap.set(u,e),ie(e,u,t,r),u}let i;try{if(i=e.cloneNode(!1),Cn(e,i),t.nodeMap.set(i,e),e.tagName==="IMG"){Ln(e,i);try{let c=e.getBoundingClientRect(),u=Math.round(c.width||0),h=Math.round(c.height||0);if(!u||!h){let p=window.getComputedStyle(e),g=parseFloat(p.width)||0,m=parseFloat(p.height)||0,f=parseInt(e.getAttribute("width")||"",10)||0,d=parseInt(e.getAttribute("height")||"",10)||0,b=e.width||e.naturalWidth||0,w=e.height||e.naturalHeight||0;u=Math.round(u||g||f||b||0),h=Math.round(h||m||d||w||0)}u&&(i.dataset.snapdomWidth=String(u)),h&&(i.dataset.snapdomHeight=String(h))}catch{}try{let c=e.getAttribute("style")||"",u=window.getComputedStyle(e),h=d=>{let b=c.match(new RegExp(`${d}\\s*:\\s*([^;]+)`,"i")),w=b?b[1].trim():u.getPropertyValue(d);return/%|auto/i.test(String(w||""))},p=parseInt(i.dataset.snapdomWidth||"0",10),g=parseInt(i.dataset.snapdomHeight||"0",10),m=h("width")||!p,f=h("height")||!g;m&&p&&(i.style.width=`${p}px`),f&&g&&(i.style.height=`${g}px`),p&&(i.style.minWidth=`${p}px`),g&&(i.style.minHeight=`${g}px`)}catch{}}}catch(c){throw console.error("[Snapdom] Failed to clone node:",e,c),c}if(e instanceof HTMLTextAreaElement){let c=e.getBoundingClientRect();i.style.width=`${c.width}px`,i.style.height=`${c.height}px`}if(e instanceof HTMLInputElement&&(i.value=e.value,i.setAttribute("value",e.value),e.checked!==void 0&&(i.checked=e.checked,e.checked&&i.setAttribute("checked",""),e.indeterminate&&(i.indeterminate=e.indeterminate))),e instanceof HTMLSelectElement&&(o=e.value),e instanceof HTMLTextAreaElement&&(a=e.value),ie(e,i,t,r),e.shadowRoot){let c=function(w,x){if(w.nodeType===Node.ELEMENT_NODE&&w.tagName==="STYLE")return x(null);ke(w,t,r).then(y=>{x(y||null)}).catch(()=>{x(null)})};try{let w=e.shadowRoot.querySelectorAll("slot");for(let x of w){let y=[];try{y=x.assignedNodes?.({flatten:!0})||x.assignedNodes?.()||[]}catch{y=x.assignedNodes?.()||[]}for(let C of y)n.add(C)}}catch{}let u=An(t),h=`[data-sd="${u}"]`;try{i.setAttribute("data-sd",u)}catch{}let p=En(e.shadowRoot),g=$n(p,h),m=Fn(p),f=Tn(e,m,h);_n(i,f+g,u);let d=document.createDocumentFragment(),b=await Te(Array.from(e.shadowRoot.childNodes),c,r.fast);d.append(...b.filter(w=>!!w)),i.appendChild(d)}if(e.tagName==="SLOT"){let c=function(m,f){ke(m,t,r).then(d=>{d&&Pn(d),f(d||null)}).catch(()=>{f(null)})},u=e.assignedNodes?.({flatten:!0})||[],h=u.length>0?u:Array.from(e.childNodes),p=document.createDocumentFragment(),g=await Te(Array.from(h),c,r.fast);return p.append(...g.filter(m=>!!m)),p}function l(c,u){if(n.has(c))return u(null);ke(c,t,r).then(h=>{u(h||null)}).catch(()=>{u(null)})}let s=await Te(Array.from(e.childNodes),l,r.fast);if(i.append(...s.filter(c=>!!c)),o!==null&&i instanceof HTMLSelectElement){i.value=o;for(let c of i.options)c.value===o?c.setAttribute("selected",""):c.removeAttribute("selected")}return a!==null&&i instanceof HTMLTextAreaElement&&(i.textContent=a),i}function Vn(e){return/\bcounter\s*\(|\bcounters\s*\(/.test(e||"")}function Bn(e){return(e||"").replace(/"([^"]*)"/g,"$1")}function ft(e,t=!1){let r="",n=Math.max(1,e);for(;n>0;)n--,r=String.fromCharCode(97+n%26)+r,n=Math.floor(n/26);return t?r.toUpperCase():r}function dt(e,t=!0){let r=[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]],n=Math.max(1,Math.min(3999,e)),o="";for(let[a,i]of r)for(;n>=a;)o+=i,n-=a;return t?o:o.toLowerCase()}function mt(e,t){switch((t||"decimal").toLowerCase()){case"decimal":return String(Math.max(0,e));case"decimal-leading-zero":return(e<10?"0":"")+String(Math.max(0,e));case"lower-alpha":return ft(e,!1);case"upper-alpha":return ft(e,!0);case"lower-roman":return dt(e,!1);case"upper-roman":return dt(e,!0);default:return String(Math.max(0,e))}}function Hn(e){let t=()=>v?.session?.__counterEpoch??0,r=t(),n=new WeakMap,o=e instanceof Document?e.documentElement:e,a=p=>p&&p.tagName==="LI",i=p=>{let g=0,m=p?.parentElement;if(!m)return 0;for(let f of m.children){if(f===p)break;f.tagName==="LI"&&g++}return g},l=p=>{let g=new Map;for(let[m,f]of p)g.set(m,f.slice());return g},s=(p,g,m)=>{let f=l(p),d;try{d=m.style?.counterReset||getComputedStyle(m).counterReset}catch{}if(d&&d!=="none")for(let w of d.split(",")){let x=w.trim().split(/\s+/),y=x[0],C=Number.isFinite(Number(x[1]))?Number(x[1]):0;if(!y)continue;let S=g.get(y);if(S&&S.length){let k=S.slice();k.push(C),f.set(y,k)}else f.set(y,[C])}let b;try{b=m.style?.counterIncrement||getComputedStyle(m).counterIncrement}catch{}if(b&&b!=="none")for(let w of b.split(",")){let x=w.trim().split(/\s+/),y=x[0],C=Number.isFinite(Number(x[1]))?Number(x[1]):1;if(!y)continue;let S=f.get(y)||[];S.length===0&&S.push(0),S[S.length-1]+=C,f.set(y,S)}try{if(getComputedStyle(m).display==="list-item"&&a(m)){let w=m.parentElement,x=1;if(w&&w.tagName==="OL"){let C=w.getAttribute("start"),S=Number.isFinite(Number(C))?Number(C):1,k=i(m),A=m.getAttribute("value");x=Number.isFinite(Number(A))?Number(A):S+k}else x=1+i(m);let y=f.get("list-item")||[];y.length===0&&y.push(0),y[y.length-1]=x,f.set("list-item",y)}}catch{}return f},c=(p,g,m)=>{let f=s(m,g,p);n.set(p,f);let d=f;for(let b of p.children)d=c(b,f,d);return f},u=new Map;c(o,u,u);function h(){let p=t();if(p!==r){r=p;let g=new Map;c(o,g,g)}}return{get(p,g){h();let m=n.get(p)?.get(g);return m&&m.length?m[m.length-1]:0},getStack(p,g){h();let m=n.get(p)?.get(g);return m?m.slice():[]}}}function zn(e,t,r){if(!e||e==="none")return e;try{let n=/\b(counter|counters)\s*\(([^)]+)\)/g,o=e.replace(n,(a,i,l)=>{let s=String(l).split(",").map(c=>c.trim());if(i==="counter"){let c=s[0]?.replace(/^["']|["']$/g,""),u=(s[1]||"decimal").toLowerCase(),h=r.get(t,c);return mt(h,u)}else{let c=s[0]?.replace(/^["']|["']$/g,""),u=s[1]?.replace(/^["']|["']$/g,"")??"",h=(s[2]||"decimal").toLowerCase(),p=r.getStack(t,c);return p.length?p.map(g=>mt(g,h)).join(u):""}});return Bn(o)}catch{return"- "}}var ae=new WeakMap,ht=300;function Xn(e,t){let r=Tt(e);return t?(t.__pseudoPreflightFp!==r&&(t.__pseudoPreflight=gt(e),t.__pseudoPreflightFp=r),!!t.__pseudoPreflight):gt(e)}function qe(e){try{return e&&e.cssRules?e.cssRules:null}catch{return null}}function Tt(e){let t=e.querySelectorAll('style,link[rel~="stylesheet"]'),r=`n:${t.length}|`,n=0;for(let a=0;a<t.length;a++){let i=t[a];if(i.tagName==="STYLE"){let l=i.textContent?i.textContent.length:0;r+=`S${l}|`;let s=i.sheet,c=s?qe(s):null;c&&(n+=c.length)}else{let l=i.getAttribute("href")||"",s=i.getAttribute("media")||"all";r+=`L${l}|m:${s}|`;let c=i.sheet,u=c?qe(c):null;u&&(n+=u.length)}}let o=e.adoptedStyleSheets;return r+=`ass:${Array.isArray(o)?o.length:0}|tr:${n}`,r}function pt(e,t,r){let n=qe(e);if(!n)return!1;for(let o=0;o<n.length;o++){if(r.budget<=0)return!1;let a=n[o],i=a&&a.cssText?a.cssText:"";r.budget--;for(let l of t)if(i.includes(l))return!0;if(a&&a.cssRules&&a.cssRules.length)for(let l=0;l<a.cssRules.length&&r.budget>0;l++){let s=a.cssRules[l],c=s&&s.cssText?s.cssText:"";r.budget--;for(let u of t)if(c.includes(u))return!0}if(r.budget<=0)return!1}return!1}function gt(e=document){let t=Tt(e),r=ae.get(e);if(r&&r.fingerprint===t)return r.result;let n=["::before","::after","::first-letter",":before",":after",":first-letter","counter(","counters(","counter-increment","counter-reset"],o=e.querySelectorAll("style");for(let i=0;i<o.length;i++){let l=o[i].textContent||"";for(let s of n)if(l.includes(s))return ae.set(e,{fingerprint:t,result:!0}),!0}let a=e.adoptedStyleSheets;if(Array.isArray(a)&&a.length){let i={budget:ht};try{for(let l of a)if(pt(l,n,i))return ae.set(e,{fingerprint:t,result:!0}),!0}catch{}}{let i=e.querySelectorAll('style,link[rel~="stylesheet"]'),l={budget:ht};for(let s=0;s<i.length&&l.budget>0;s++){let c=i[s],u=null;if(c.tagName,u=c.sheet||null,u&&pt(u,n,l))return ae.set(e,{fingerprint:t,result:!0}),!0}}return e.querySelector('[style*="counter("], [style*="counters("]')?(ae.set(e,{fingerprint:t,result:!0}),!0):(ae.set(e,{fingerprint:t,result:!1}),!1)}var le=new WeakMap,yt=-1;function Yn(e){return(e||"").replace(/"([^"]*)"/g,"$1")}function Gn(e){if(!e)return"";let t=[],r=/"([^"]*)"/g,n;for(;n=r.exec(e);)t.push(n[1]);return t.length?t.join(""):Yn(e)}function je(e,t){let r=e.parentElement,n=r?le.get(r):null;return n?{get(o,a){let i=t.get(o,a),l=n.get(a);return typeof l=="number"?Math.max(i,l):i},getStack(o,a){let i=t.getStack(o,a);if(!i.length)return i;let l=n.get(a);if(typeof l=="number"){let s=i.slice();return s[s.length-1]=Math.max(s[s.length-1],l),s}return i}}:t}function Ue(e,t,r){let n=new Map;function o(s){let c=[];if(!s||s==="none")return c;for(let u of String(s).split(",")){let h=u.trim().split(/\s+/),p=h[0],g=Number.isFinite(Number(h[1]))?Number(h[1]):void 0;p&&c.push({name:p,num:g})}return c}let a=o(t?.counterReset),i=o(t?.counterIncrement);function l(s){if(n.has(s))return n.get(s).slice();let c=r.getStack(e,s);c=c.length?c.slice():[];let u=a.find(p=>p.name===s);if(u){let p=Number.isFinite(u.num)?u.num:0;c=c.length?[...c,p]:[p]}let h=i.find(p=>p.name===s);if(h){let p=Number.isFinite(h.num)?h.num:1;c.length===0&&(c=[0]),c[c.length-1]+=p}return n.set(s,c.slice()),c}return{get(s,c){let u=l(c);return u.length?u[u.length-1]:0},getStack(s,c){return l(c)},__incs:i}}function Jn(e,t,r){let n;try{n=getComputedStyle(e,t)}catch{}let o=n?.content;if(!o||o==="none"||o==="normal")return{text:"",incs:[]};let a=je(e,r),i=Ue(e,n,a),l=Vn(o)?zn(o,e,i):o;return{text:Gn(l),incs:i.__incs||[]}}async function Pt(e,t,r,n){if(!(e instanceof Element)||!(t instanceof Element))return;let o=e.ownerDocument||document;if(!Xn(o,r))return;let a=v?.session?.__counterEpoch??0;if(yt!==a&&(le=new WeakMap,r&&(r.__counterCtx=null),yt=a),!r.__counterCtx)try{r.__counterCtx=Hn(e.ownerDocument||document)}catch{}let i=r.__counterCtx;for(let c of["::before","::after","::first-letter"])try{let u=Ct(e,c);if(!u||u.content==="none"&&u.backgroundImage==="none"&&u.backgroundColor==="transparent"&&(u.borderStyle==="none"||parseFloat(u.borderWidth)===0)&&(!u.transform||u.transform==="none")&&u.display==="inline")continue;if(c==="::first-letter"){let _=getComputedStyle(e);if(!(u.color!==_.color||u.fontSize!==_.fontSize||u.fontWeight!==_.fontWeight))continue;let L=Array.from(t.childNodes).find(we=>we.nodeType===Node.TEXT_NODE&&we.textContent?.trim().length>0);if(!L)continue;let O=L.textContent,R=O.match(/^([^\p{L}\p{N}\s]*[\p{L}\p{N}](?:['’])?)/u)?.[0],z=O.slice(R?.length||0);if(!R||/[\uD800-\uDFFF]/.test(R))continue;let U=document.createElement("span");U.textContent=R,U.dataset.snapdomPseudo="::first-letter";let pe=rt(u),ge=Re(pe,"span");r.styleMap.set(U,ge);let ye=document.createTextNode(z);t.replaceChild(ye,L),t.insertBefore(U,ye);continue}let h=u.content??"",p=h===""||h==="none"||h==="normal",{text:g,incs:m}=Jn(e,c,i),f=u.backgroundImage,d=u.backgroundColor,b=u.fontFamily,w=parseInt(u.fontSize)||32,x=parseInt(u.fontWeight)||!1,y=u.color||"#000",C=u.borderStyle,S=parseFloat(u.borderWidth),k=u.transform,A=V(b),N=!p&&g!=="",T=f&&f!=="none",$=d&&d!=="transparent"&&d!=="rgba(0, 0, 0, 0)",P=C&&C!=="none"&&S>0,I=k&&k!=="none";if(!(N||T||$||P||I)){if(m&&m.length&&e.parentElement){let _=le.get(e.parentElement)||new Map;for(let{name:L}of m){if(!L)continue;let O=je(e,i),R=Ue(e,getComputedStyle(e,c),O).get(e,L);_.set(L,R)}le.set(e.parentElement,_)}continue}let E=document.createElement("span");E.dataset.snapdomPseudo=c,E.style.pointerEvents="none";let B=rt(u),H=Re(B,"span");if(r.styleMap.set(E,H),A&&g&&g.length===1){let{dataUrl:_,width:L,height:O}=await Vr(g,b,x,w,y),R=document.createElement("img");R.src=_,R.style=`height:${w}px;width:${L/O*w}px;object-fit:contain;`,E.appendChild(R),t.dataset.snapdomHasIcon="true"}else if(g&&g.startsWith("url(")){let _=Be(g);if(_?.trim())try{let L=document.createElement("img"),O=await j(Me(_),{as:"dataURL",useProxy:n.useProxy});L.src=O.data,L.style=`width:${w}px;height:auto;object-fit:contain;`,E.appendChild(L)}catch(L){console.error(`[snapdom] Error in pseudo ${c} for`,e,L)}}else!A&&N&&(E.textContent=g);E.style.backgroundImage="none","maskImage"in E.style&&(E.style.maskImage="none"),"webkitMaskImage"in E.style&&(E.style.webkitMaskImage="none");try{E.style.backgroundRepeat=u.backgroundRepeat,E.style.backgroundSize=u.backgroundSize,u.backgroundPositionX&&u.backgroundPositionY?(E.style.backgroundPositionX=u.backgroundPositionX,E.style.backgroundPositionY=u.backgroundPositionY):E.style.backgroundPosition=u.backgroundPosition,E.style.backgroundOrigin=u.backgroundOrigin,E.style.backgroundClip=u.backgroundClip,E.style.backgroundAttachment=u.backgroundAttachment,E.style.backgroundBlendMode=u.backgroundBlendMode}catch{}if(T)try{let _=kt(f),L=await Promise.all(_.map(vt));E.style.backgroundImage=L.join(", ")}catch(_){console.warn(`[snapdom] Failed to inline background-image for ${c}`,_)}$&&(E.style.backgroundColor=d);let Q=E.childNodes.length>0||E.textContent?.trim()!==""||T||$||P||I;if(m&&m.length&&e.parentElement){let _=le.get(e.parentElement)||new Map,L=je(e,i),O=Ue(e,getComputedStyle(e,c),L);for(let{name:R}of m){if(!R)continue;let z=O.get(e,R);_.set(R,z)}le.set(e.parentElement,_)}if(!Q)continue;c==="::before"?t.insertBefore(E,t.firstChild):t.appendChild(E)}catch(u){console.warn(`[snapdom] Failed to capture ${c} for`,e,u)}let l=Array.from(e.children),s=Array.from(t.children).filter(c=>!c.dataset.snapdomPseudo);for(let c=0;c<Math.min(l.length,s.length);c++)await Pt(l[c],s[c],r,n)}function Kn(e,t){if(!e||!(e instanceof Element))return;let r=e.ownerDocument||document,n=r,o=e instanceof SVGSVGElement?[e]:Array.from(e.querySelectorAll("svg"));if(o.length===0)return;let a=/url\(\s*#([^)]+)\)/g,i=["fill","stroke","filter","clip-path","mask","marker","marker-start","marker-mid","marker-end"],l=y=>window.CSS&&CSS.escape?CSS.escape(y):y.replace(/[^a-zA-Z0-9_-]/g,"\\$&"),s="http://www.w3.org/1999/xlink",c=y=>{if(!y||!y.getAttribute)return null;let C=y.getAttribute("href")||y.getAttribute("xlink:href")||(typeof y.getAttributeNS=="function"?y.getAttributeNS(s,"href"):null);if(C)return C;let S=y.attributes;if(!S)return null;for(let k=0;k<S.length;k++){let A=S[k];if(!A||!A.name)continue;if(A.name==="href")return A.value;let N=A.name.indexOf(":");if(N!==-1&&A.name.slice(N+1)==="href")return A.value}return null},u=new Set(Array.from(e.querySelectorAll("[id]")).map(y=>y.id)),h=new Set,p=!1,g=(y,C=null)=>{if(!y)return;a.lastIndex=0;let S;for(;S=a.exec(y);){p=!0;let k=(S[1]||"").trim();k&&(u.has(k)||(h.add(k),C&&!C.has(k)&&C.add(k)))}},m=y=>{let C=y.querySelectorAll("use");for(let k of C){let A=c(k);if(!A||!A.startsWith("#"))continue;p=!0;let N=A.slice(1).trim();N&&!u.has(N)&&h.add(N)}let S=y.querySelectorAll('*[style*="url("],*[fill^="url("], *[stroke^="url("],*[filter^="url("],*[clip-path^="url("],*[mask^="url("],*[marker^="url("],*[marker-start^="url("],*[marker-mid^="url("],*[marker-end^="url("]');for(let k of S){g(k.getAttribute("style")||"");for(let A of i)g(k.getAttribute(A))}};for(let y of o)m(y);if(!p)return;let f=e.querySelector("svg.inline-defs-container");f||(f=r.createElementNS("http://www.w3.org/2000/svg","svg"),f.classList.add("inline-defs-container"),f.setAttribute("aria-hidden","true"),f.setAttribute("style","position:absolute;width:0;height:0;overflow:hidden"),e.insertBefore(f,e.firstChild||null));let d=f.querySelector("defs")||null,b=y=>{if(!y||u.has(y))return null;let C=l(y),S=k=>{let A=n.querySelector(k);return A&&!e.contains(A)?A:null};return S(`svg defs > *#${C}`)||S(`svg > symbol#${C}`)||S(`*#${C}`)};if(!h.size)return;let w=new Set(h),x=new Set;for(;w.size;){let y=w.values().next().value;if(w.delete(y),!y||u.has(y)||x.has(y))continue;let C=b(y);if(!C){x.add(y);continue}d||(d=r.createElementNS("http://www.w3.org/2000/svg","defs"),f.appendChild(d));let S=C.cloneNode(!0);S.id||S.setAttribute("id",y),d.appendChild(S),x.add(y),u.add(y);let k=[S,...S.querySelectorAll("*")];for(let A of k){let N=c(A);if(N&&N.startsWith("#")){let $=N.slice(1).trim();$&&!u.has($)&&!x.has($)&&w.add($)}let T=A.getAttribute?.("style")||"";T&&g(T,w);for(let $ of i){let P=A.getAttribute?.($);P&&g(P,w)}}}}function Qn(e,t){if(!e||!t)return;let r=e.scrollTop||0;if(!r)return;getComputedStyle(t).position==="static"&&(t.style.position="relative");let n=e.getBoundingClientRect(),o=e.clientHeight,a="data-snap-ph",i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;i.nextNode();){let l=i.currentNode,s=getComputedStyle(l),c=s.position;if(c!=="sticky"&&c!=="-webkit-sticky")continue;let u=wt(s.top),h=wt(s.bottom);if(u==null&&h==null)continue;let p=Zn(l,e),g=ea(t,p,a);if(!g)continue;let m=l.getBoundingClientRect(),f=m.width,d=m.height,b=m.left-n.left;if(!(f>0&&d>0)||!Number.isFinite(b))continue;let w=u!=null?u+r:r+(o-d-h);if(!Number.isFinite(w))continue;let x=Number.parseInt(s.zIndex,10),y=Number.isFinite(x),C=y?Math.max(x,1)+1:2,S=y?x-1:0,k=g.cloneNode(!1);k.setAttribute(a,"1"),k.style.position="sticky",k.style.left=`${b}px`,k.style.top=`${w}px`,k.style.width=`${f}px`,k.style.height=`${d}px`,k.style.visibility="hidden",k.style.zIndex=String(S),k.style.overflow="hidden",k.style.background="transparent",k.style.boxShadow="none",k.style.filter="none",g.parentElement?.insertBefore(k,g),g.style.position="absolute",g.style.left=`${b}px`,g.style.top=`${w}px`,g.style.bottom="auto",g.style.zIndex=String(C),g.style.pointerEvents="none"}}function wt(e){if(!e||e==="auto")return null;let t=Number.parseFloat(e);return Number.isFinite(t)?t:null}function Zn(e,t){let r=[];for(let n=e;n&&n!==t;){let o=n.parentElement;if(!o)break;r.push(Array.prototype.indexOf.call(o.children,n)),n=o}return r.reverse()}function ea(e,t,r){let n=e;for(let o=0;o<t.length;o++)if(n=ta(n,r)[t[o]],!n)return null;return n instanceof HTMLElement?n:null}function ta(e,t){let r=[],n=e.children;for(let o=0;o<n.length;o++){let a=n[o];a.hasAttribute(t)||r.push(a)}return r}function ra(e){let t=getComputedStyle(e),r=t.outlineStyle,n=t.outlineWidth,o=t.borderStyle,a=t.borderWidth,i=r!=="none"&&parseFloat(n)>0,l=o==="none"||parseFloat(a)===0;i&&l&&(e.style.border=`${n} solid transparent`)}async function na(e,t={}){let r={styleMap:v.session.styleMap,styleCache:v.session.styleCache,nodeMap:v.session.nodeMap},n,o="",a="";ra(e);try{Kn(e)}catch(s){console.warn("inlineExternal defs or symbol failed:",s)}try{n=await ke(e,r,t,e)}catch(s){throw console.warn("deepClone failed:",s),s}try{await Pt(e,n,r,t)}catch(s){console.warn("inlinePseudoElements failed:",s)}await Un(n);try{let s=n.querySelectorAll("style[data-sd]");for(let c of s)a+=c.textContent||"",c.remove()}catch{}let i=Tr(r.styleMap);o=Array.from(i.entries()).map(([s,c])=>`.${c}{${s}}`).join(""),o=a+o;for(let[s,c]of r.styleMap.entries()){if(s.tagName==="STYLE")continue;if(s.getRootNode&&s.getRootNode()instanceof ShadowRoot){s.setAttribute("style",c.replace(/;/g,"; "));continue}let u=i.get(c);u&&s.classList.add(u);let h=s.style?.backgroundImage,p=s.dataset?.snapdomHasIcon;h&&h!=="none"&&(s.style.backgroundImage=h),p&&(s.style.verticalAlign="middle",s.style.display="inline")}for(let[s,c]of r.nodeMap.entries()){let u=c.scrollLeft,h=c.scrollTop;if((u||h)&&s instanceof HTMLElement){s.style.overflow="hidden",s.style.scrollbarWidth="none",s.style.msOverflowStyle="none";let p=document.createElement("div");for(p.style.transform=`translate(${-u}px, ${-h}px)`,p.style.willChange="transform",p.style.display="inline-block",p.style.width="100%";s.firstChild;)p.appendChild(s.firstChild);s.appendChild(p)}}let l=n instanceof HTMLElement&&n.firstElementChild instanceof HTMLElement?n.firstElementChild:n;if(Qn(e,l),e===r.nodeMap.get(n)){let s=r.styleCache.get(e)||window.getComputedStyle(e);r.styleCache.set(e,s);let c=br(s.transform);n.style.margin="0",n.style.top="auto",n.style.left="auto",n.style.right="auto",n.style.bottom="auto",n.style.animation="none",n.style.transition="none",n.style.willChange="auto",n.style.float="none",n.style.clear="none",n.style.transform=c||""}for(let[s,c]of r.nodeMap.entries())c.tagName==="PRE"&&(s.style.marginTop="0",s.style.marginBlockStart="0");return{clone:n,classCSS:o,styleCache:r.styleCache}}function aa(e){let t=parseInt(e.dataset?.snapdomWidth||"",10)||0,r=parseInt(e.dataset?.snapdomHeight||"",10)||0,n=parseInt(e.getAttribute("width")||"",10)||0,o=parseInt(e.getAttribute("height")||"",10)||0,a=parseFloat(e.style?.width||"")||0,i=parseFloat(e.style?.height||"")||0,l=t||a||n||e.width||e.naturalWidth||100,s=r||i||o||e.height||e.naturalHeight||100;return{width:l,height:s}}async function oa(e,t={}){let r=Array.from(e.querySelectorAll("img")),n=async o=>{if(!o.getAttribute("src")){let u=o.currentSrc||o.src||"";u&&o.setAttribute("src",u)}o.removeAttribute("srcset"),o.removeAttribute("sizes");let a=o.src||"";if(!a)return;let i=await j(a,{as:"dataURL",useProxy:t.useProxy});if(i.ok&&typeof i.data=="string"&&i.data.startsWith("data:")){o.src=i.data,o.width||(o.width=o.naturalWidth||100),o.height||(o.height=o.naturalHeight||100);return}let{width:l,height:s}=aa(o),{fallbackURL:c}=t||{};if(c)try{let u=typeof c=="function"?await c({width:l,height:s,src:a,element:o}):c;if(u){let h=await j(u,{as:"dataURL",useProxy:t.useProxy});o.src=h.data,o.width||(o.width=l),o.height||(o.height=s);return}}catch{}if(t.placeholders!==!1){let u=document.createElement("div");u.style.cssText=[`width:${l}px`,`height:${s}px`,"background:#ccc","display:inline-block","text-align:center",`line-height:${s}px`,"color:#666","font-size:12px","overflow:hidden"].join(";"),u.textContent="img",o.replaceWith(u)}else{let u=document.createElement("div");u.style.cssText=`display:inline-block;width:${l}px;height:${s}px;visibility:hidden;`,o.replaceWith(u)}};for(let o=0;o<r.length;o+=4){let a=r.slice(o,o+4).map(n);await Promise.allSettled(a)}}function ia(e){if(!e)return()=>{};let t=la(e);if(t<=0)return()=>{};if(!ua(e))return()=>{};let r=getComputedStyle(e),n=Math.round(sa(r)*t+ca(r)),o=e.textContent??"",a=o;if(e.scrollHeight<=n+.5)return()=>{};let i=0,l=o.length,s=-1;for(;i<=l;){let c=i+l>>1;e.textContent=o.slice(0,c)+"…",e.scrollHeight<=n+.5?(s=c,i=c+1):l=c-1}return e.textContent=(s>=0?o.slice(0,s):"")+"…",()=>{e.textContent=a}}function la(e){let t=getComputedStyle(e),r=t.getPropertyValue("-webkit-line-clamp")||t.getPropertyValue("line-clamp");r=(r||"").trim();let n=parseInt(r,10);return Number.isFinite(n)&&n>0?n:0}function sa(e){let t=(e.lineHeight||"").trim(),r=parseFloat(e.fontSize)||16;return!t||t==="normal"?Math.round(r*1.2):t.endsWith("px")?parseFloat(t):/^\d+(\.\d+)?$/.test(t)?Math.round(parseFloat(t)*r):t.endsWith("%")?Math.round(parseFloat(t)/100*r):Math.round(r*1.2)}function ca(e){return(parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)}function ua(e){return e.childElementCount>0?!1:Array.from(e.childNodes).some(t=>t.nodeType===Node.TEXT_NODE)}function fa(e,t){if(!e||!t||!t.style)return;let r=getComputedStyle(e);try{t.style.boxShadow="none"}catch{}try{t.style.textShadow="none"}catch{}try{t.style.outline="none"}catch{}let n=(r.filter||"").replace(/\bblur\([^()]*\)\s*/gi,"").replace(/\bdrop-shadow\([^()]*\)\s*/gi,"").trim().replace(/\s+/g," ");try{t.style.filter=n.length?n:"none"}catch{}}function da(e){let t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT),r=[];for(;t.nextNode();)r.push(t.currentNode);for(let n of r)n.remove()}function ma(e,t={}){let{stripFrameworkDirectives:r=!0}=t,n=new Set(["xml","xlink"]),o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;o.nextNode();){let a=o.currentNode;for(let i of Array.from(a.attributes)){let l=i.name;if(l.includes("@")){a.removeAttribute(l);continue}if(l.includes(":")){let s=l.split(":",1)[0];if(!n.has(s)){a.removeAttribute(l);continue}}if(r&&(l.startsWith("x-")||l.startsWith("v-")||l.startsWith(":")||l.startsWith("on:")||l.startsWith("bind:")||l.startsWith("let:")||l.startsWith("class:"))){a.removeAttribute(l);continue}}}}function ha(e,t={}){e&&(ma(e,t),da(e))}function pa(e){try{let t=e.getAttribute?.("style")||"";return/\b(height|width|block-size|inline-size)\s*:/.test(t)}catch{return!1}}function ga(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof HTMLIFrameElement||e instanceof SVGElement||e instanceof HTMLObjectElement||e instanceof HTMLEmbedElement}function ya(e,t){if(!(e instanceof Element)||pa(e)||ga(e))return!1;let r=t.position;if(r==="absolute"||r==="fixed"||r==="sticky")return!1;let n=t.display||"";return!(n.includes("flex")||n.includes("grid")||n.startsWith("table")||t.transform&&t.transform!=="none")}function wa(e,t,r=new Map){function n(o,a){if(!(o instanceof Element)||!(a instanceof Element))return;let i=o.childElementCount>a.childElementCount,l=r.get(o)||getComputedStyle(o);if(r.has(o)||r.set(o,l),i&&ya(o,l)){a.style.height||(a.style.height="auto"),a.style.width||(a.style.width="auto"),a.style.removeProperty("block-size"),a.style.removeProperty("inline-size"),a.style.minHeight||(a.style.minHeight="0"),a.style.minWidth||(a.style.minWidth="0"),a.style.maxHeight||(a.style.maxHeight="none"),a.style.maxWidth||(a.style.maxWidth="none");let u=l.overflowY||l.overflowBlock||"visible",h=l.overflowX||l.overflowInline||"visible";(u!=="visible"||h!=="visible")&&(a.style.overflow="visible")}let s=Array.from(o.children),c=Array.from(a.children);for(let u=0;u<Math.min(s.length,c.length);u++)n(s[u],c[u])}n(e,t)}function ba(e){let t=getComputedStyle(e);return!(t.display==="none"||t.position==="absolute"||t.position==="fixed"||t.position==="sticky"||(t.cssFloat||t.float||"none")!=="none"||t.transform&&t.transform!=="none")}function xa(e,t){if(!(e instanceof Element))return!1;if(e.getAttribute("data-capture")==="exclude"&&t?.excludeMode==="remove")return!0;if(Array.isArray(t?.exclude))for(let r of t.exclude)try{if(e.matches(r))return t.excludeMode==="remove"}catch{}return!1}function va(e,t){let r=getComputedStyle(e),n=e.getBoundingClientRect(),o=1/0,a=-1/0,i=!1,l=Array.from(e.children);for(let g of l){if(xa(g,t)||!ba(g))continue;let m=g.getBoundingClientRect(),f=m.top-n.top,d=m.bottom-n.top;d<=f||(f<o&&(o=f),d>a&&(a=d),i=!0)}let s=i?Math.max(0,a-o):0,c=parseFloat(r.borderTopWidth)||0,u=parseFloat(r.borderBottomWidth)||0,h=parseFloat(r.paddingTop)||0,p=parseFloat(r.paddingBottom)||0;return c+u+h+p+s}var M=(e,t=3)=>Number.isFinite(e)?Math.round(e*10**t)/10**t:e;function Sa(e){let t=e.boxShadow||"";if(!t||t==="none")return{top:0,right:0,bottom:0,left:0};let r=t.split(/\),(?=(?:[^()]*\([^()]*\))*[^()]*$)/).map(l=>l.trim()),n=0,o=0,a=0,i=0;for(let l of r){let s=l.match(/-?\d+(\.\d+)?px/g)?.map(f=>parseFloat(f))||[];if(s.length<2)continue;let[c,u,h=0,p=0]=s,g=Math.abs(c)+h+p,m=Math.abs(u)+h+p;o=Math.max(o,g+Math.max(c,0)),i=Math.max(i,g+Math.max(-c,0)),a=Math.max(a,m+Math.max(u,0)),n=Math.max(n,m+Math.max(-u,0))}return{top:Math.ceil(n),right:Math.ceil(o),bottom:Math.ceil(a),left:Math.ceil(i)}}function Ca(e){let t=(e.filter||"").match(/blur\(\s*([0-9.]+)px\s*\)/),r=t?Math.ceil(parseFloat(t[1])||0):0;return{top:r,right:r,bottom:r,left:r}}function ka(e){if((e.outlineStyle||"none")==="none")return{top:0,right:0,bottom:0,left:0};let t=Math.ceil(parseFloat(e.outlineWidth||"0")||0);return{top:t,right:t,bottom:t,left:t}}function Ma(e){let t=`${e.filter||""} ${e.webkitFilter||""}`.trim();if(!t||t==="none")return{bleed:{top:0,right:0,bottom:0,left:0},has:!1};let r=t.match(/drop-shadow\((?:[^()]|\([^()]*\))*\)/gi)||[],n=0,o=0,a=0,i=0,l=!1;for(let s of r){l=!0;let c=s.match(/-?\d+(?:\.\d+)?px/gi)?.map(f=>parseFloat(f))||[],[u=0,h=0,p=0]=c,g=Math.abs(u)+p,m=Math.abs(h)+p;o=Math.max(o,g+Math.max(u,0)),i=Math.max(i,g+Math.max(-u,0)),a=Math.max(a,m+Math.max(h,0)),n=Math.max(n,m+Math.max(-h,0))}return{bleed:{top:M(n),right:M(o),bottom:M(a),left:M(i)},has:l}}function $a(e,t){if(!e||!t||!t.style)return null;let r=getComputedStyle(e);try{t.style.transformOrigin="0 0"}catch{}try{"translate"in t.style&&(t.style.translate="none"),"rotate"in t.style&&(t.style.rotate="none")}catch{}let n=r.transform||"none";if(n==="none")try{let a=Rt(e);if(a.a===1&&a.b===0&&a.c===0&&a.d===1)return t.style.transform="none",{a:1,b:0,c:0,d:1}}catch{}let o=n.match(/^matrix\(\s*([^)]+)\)$/i);if(o){let a=o[1].split(",").map(i=>parseFloat(i.trim()));if(a.length===6&&a.every(Number.isFinite)){let[i,l,s,c]=a,u=Math.sqrt(i*i+l*l)||0,h=0,p=0,g=0,m=0,f=0,d=0;u>0&&(h=i/u,p=l/u,g=h*s+p*c,m=s-h*g,f=c-p*g,d=Math.sqrt(m*m+f*f)||0,d>0?g=g/d:g=0);let b=u,w=0,x=g*d,y=d;try{t.style.transform=`matrix(${b}, ${w}, ${x}, ${y}, 0, 0)`}catch{}return{a:b,b:w,c:x,d:y}}}try{let a=String(n).trim();return t.style.transform=a+" translate(0px, 0px) rotate(0deg)",null}catch{return null}}function bt(e,t,r,n,o){let a=r.a,i=r.b,l=r.c,s=r.d,c=r.e||0,u=r.f||0;function h(b,w){let x=b-n,y=w-o,C=a*x+l*y,S=i*x+s*y;return C+=n+c,S+=o+u,[C,S]}let p=[h(0,0),h(e,0),h(0,t),h(e,t)],g=1/0,m=1/0,f=-1/0,d=-1/0;for(let[b,w]of p)b<g&&(g=b),w<m&&(m=w),b>f&&(f=b),w>d&&(d=w);return{minX:g,minY:m,maxX:f,maxY:d,width:f-g,height:d-m}}function Aa(e,t,r){let n=(e.transformOrigin||"0 0").trim().split(/\s+/),[o,a]=[n[0]||"0",n[1]||"0"],i=(l,s)=>{let c=l.toLowerCase();return c==="left"||c==="top"?0:c==="center"?s/2:c==="right"||c==="bottom"?s:c.endsWith("px")?parseFloat(c)||0:c.endsWith("%")?(parseFloat(c)||0)*s/100:/^-?\d+(\.\d+)?$/.test(c)&&parseFloat(c)||0};return{ox:i(o,t),oy:i(a,r)}}function Ea(e){let t={rotate:"0deg",scale:null,translate:null},r=typeof e.computedStyleMap=="function"?e.computedStyleMap():null;if(r){let o=s=>{try{return typeof r.has=="function"&&!r.has(s)||typeof r.get!="function"?null:r.get(s)}catch{return null}},a=o("rotate");if(a)if(a.angle){let s=a.angle;t.rotate=s.unit==="rad"?s.value*180/Math.PI+"deg":s.value+s.unit}else a.unit?t.rotate=a.unit==="rad"?a.value*180/Math.PI+"deg":a.value+a.unit:t.rotate=String(a);else{let s=getComputedStyle(e);t.rotate=s.rotate&&s.rotate!=="none"?s.rotate:"0deg"}let i=o("scale");if(i){let s="x"in i&&i.x?.value!=null?i.x.value:Array.isArray(i)?i[0]?.value:Number(i)||1,c="y"in i&&i.y?.value!=null?i.y.value:Array.isArray(i)?i[1]?.value:s;t.scale=`${s} ${c}`}else{let s=getComputedStyle(e);t.scale=s.scale&&s.scale!=="none"?s.scale:null}let l=o("translate");if(l){let s="x"in l&&"value"in l.x?l.x.value:Array.isArray(l)?l[0]?.value:0,c="y"in l&&"value"in l.y?l.y.value:Array.isArray(l)?l[1]?.value:0,u="x"in l&&l.x?.unit?l.x.unit:"px",h="y"in l&&l.y?.unit?l.y.unit:"px";t.translate=`${s}${u} ${c}${h}`}else{let s=getComputedStyle(e);t.translate=s.translate&&s.translate!=="none"?s.translate:null}return t}let n=getComputedStyle(e);return t.rotate=n.rotate&&n.rotate!=="none"?n.rotate:"0deg",t.scale=n.scale&&n.scale!=="none"?n.scale:null,t.translate=n.translate&&n.translate!=="none"?n.translate:null,t}var Pe=null;function _a(){if(Pe)return Pe;let e=document.createElement("div");return e.id="snapdom-measure-slot",e.setAttribute("aria-hidden","true"),Object.assign(e.style,{position:"absolute",left:"-99999px",top:"0px",width:"0px",height:"0px",overflow:"hidden",opacity:"0",pointerEvents:"none",contain:"size layout style"}),document.documentElement.appendChild(e),Pe=e,e}function La(e){let t=_a(),r=document.createElement("div");r.style.transformOrigin="0 0",e.baseTransform&&(r.style.transform=e.baseTransform),e.rotate&&(r.style.rotate=e.rotate),e.scale&&(r.style.scale=e.scale),e.translate&&(r.style.translate=e.translate),t.appendChild(r);let n=Rt(r);return t.removeChild(r),n}function Fa(e){let t=getComputedStyle(e),r=t.transform||"none";if(r!=="none"&&!/^matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*,\s*0\s*,\s*0\s*\)$/i.test(r))return!0;let n=t.rotate&&t.rotate!=="none"&&t.rotate!=="0deg",o=t.scale&&t.scale!=="none"&&t.scale!=="1",a=t.translate&&t.translate!=="none"&&t.translate!=="0px 0px";return!!(n||o||a)}function Rt(e){let t=getComputedStyle(e).transform;if(!t||t==="none")return new DOMMatrix;try{return new DOMMatrix(t)}catch{return new WebKitCSSMatrix(t)}}async function It(e,t){if(!e)throw new Error("Element cannot be null or undefined");wr(t.cache);let r=t.fast,n=t.outerTransforms!==!1,o=!!t.outerShadows,a={element:e,options:t,plugins:t.plugins},i,l,s,c="",u="",h,p,g=null;await K("beforeSnap",a),await K("beforeClone",a);let m=ia(a.element);try{({clone:i,classCSS:l,styleCache:s}=await na(a.element,a.options)),!n&&i&&(g=$a(a.element,i)),!o&&i&&fa(a.element,i)}finally{m()}if(a={clone:i,classCSS:l,styleCache:s,...a},await K("afterClone",a),ha(a.clone),a.options?.excludeMode==="remove")try{wa(a.element,a.clone,a.styleCache)}catch(w){console.warn("[snapdom] shrink pass failed:",w)}try{await Ur(a.clone,a.element)}catch{}await new Promise(w=>{oe(async()=>{await oa(a.clone,a.options),w()},{fast:r})}),await new Promise(w=>{oe(async()=>{await ln(a.element,a.clone,a.styleCache,a.options),w()},{fast:r})}),t.embedFonts&&await new Promise(w=>{oe(async()=>{let x=nn(a.element),y=an(a.element);if(ue()){let C=new Set(Array.from(x).map(S=>String(S).split("__")[0]).filter(Boolean));await on(C,1)}c=await rn({required:x,usedCodepoints:y,exclude:a.options.excludeFonts,useProxy:a.options.useProxy}),w()},{fast:r})});let f=Fr(a.clone).sort(),d=f.join(",");v.baseStyle.has(d)?u=v.baseStyle.get(d):await new Promise(w=>{oe(()=>{u=Nr(f),v.baseStyle.set(d,u),w()},{fast:r})}),a={fontsCSS:c,baseCSS:u,...a},await K("beforeRender",a),await new Promise(w=>{oe(()=>{let x=getComputedStyle(a.element),y=a.element.getBoundingClientRect(),C=Math.max(1,M(a.element.offsetWidth||parseFloat(x.width)||y.width||1)),S=Math.max(1,M(a.element.offsetHeight||parseFloat(x.height)||y.height||1));if(a.options?.excludeMode==="remove"){let D=va(a.element,a.options);Number.isFinite(D)&&D>0&&(S=Math.max(1,Math.min(S,M(D+1))))}let k=(D,q=NaN)=>{let re=typeof D=="string"?parseFloat(D):D;return Number.isFinite(re)?re:q},A=k(a.options.width),N=k(a.options.height),T=C,$=S,P=Number.isFinite(A),I=Number.isFinite(N),E=S>0?C/S:1;P&&I?(T=Math.max(1,M(A)),$=Math.max(1,M(N))):P?(T=Math.max(1,M(A)),$=Math.max(1,M(T/(E||1)))):I?($=Math.max(1,M(N)),T=Math.max(1,M($*(E||1)))):(T=C,$=S);let B=0,H=0,Q=C,_=S;if(!n&&g&&Number.isFinite(g.a)){let D={a:g.a,b:g.b||0,c:g.c||0,d:g.d||1,e:0,f:0},q=bt(C,S,D,0,0);B=M(q.minX),H=M(q.minY),Q=M(q.maxX),_=M(q.maxY)}else if(n&&Na(a.element)){let D=x.transform&&x.transform!=="none"?x.transform:"",q=Ea(a.element),re=La({baseTransform:D,rotate:q.rotate||"0deg",scale:q.scale,translate:q.translate}),{ox:zt,oy:Xt}=Aa(x,C,S),Yt=re.is2D?re:new DOMMatrix(re.toString()),be=bt(C,S,Yt,zt,Xt);B=M(be.minX),H=M(be.minY),Q=M(be.maxX),_=M(be.maxY)}let L=Sa(x),O=Ca(x),R=ka(x),z=Ma(x),U=o?{top:M(L.top+O.top+R.top+z.bleed.top),right:M(L.right+O.right+R.right+z.bleed.right),bottom:M(L.bottom+O.bottom+R.bottom+z.bleed.bottom),left:M(L.left+O.left+R.left+z.bleed.left)}:{top:0,right:0,bottom:0,left:0};B=M(B-U.left),H=M(H-U.top),Q=M(Q+U.right),_=M(_+U.bottom);let pe=Math.max(1,M(Q-B)),ge=Math.max(1,M(_-H)),ye=P||I?M(T/C):1,we=I||P?M($/S):1,Ot=Math.max(1,M(pe*ye)),Dt=Math.max(1,M(ge*we)),Xe="http://www.w3.org/2000/svg",qt=ue()?1:0,X=M(qt+(n?0:1)),Y=document.createElementNS(Xe,"foreignObject"),jt=M(B),Ut=M(H);Y.setAttribute("x",String(M(-(jt-X)))),Y.setAttribute("y",String(M(-(Ut-X)))),Y.setAttribute("width",String(M(C+X*2))),Y.setAttribute("height",String(M(S+X*2))),Y.style.overflow="visible";let Ye=document.createElement("style");Ye.textContent=a.baseCSS+a.fontsCSS+"svg{overflow:visible;} foreignObject{overflow:visible;}"+a.classCSS,Y.appendChild(Ye);let te=document.createElement("div");te.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),te.style.width=`${M(C)}px`,te.style.height=`${M(S)}px`,te.style.overflow="visible",a.clone.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),te.appendChild(a.clone),Y.appendChild(te);let Vt=new XMLSerializer().serializeToString(Y),Ee=M(pe+X*2),_e=M(ge+X*2),Ge=P||I;t.meta={w0:C,h0:S,vbW:Ee,vbH:_e,targetW:T,targetH:$};let Bt=ue()&&Ge?Ee:M(Ot+X*2),Ht=ue()&&Ge?_e:M(Dt+X*2);p=`<svg xmlns="${Xe}" width="${Bt}" height="${Ht}" viewBox="0 0 ${Ee} ${_e}">`+Vt+"</svg>",h=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(p)}`,a={svgString:p,dataURL:h,...a},w()},{fast:r})}),await K("afterRender",a);let b=document.getElementById("snapdom-sandbox");return b&&b.style.position==="absolute"&&b.remove(),a.dataURL}function Na(e){return Fa(e)}function Ta(e){if(typeof e=="string"){let t=e.toLowerCase().trim();if(t==="disabled"||t==="full"||t==="auto"||t==="soft")return t}return"soft"}function Pa(e={}){let t=e.format??"png";t==="jpg"&&(t="jpeg");let r=Ta(e.cache);return{debug:e.debug??!1,fast:e.fast??!0,scale:e.scale??1,exclude:e.exclude??[],excludeMode:e.excludeMode??"hide",filter:e.filter??null,filterMode:e.filterMode??"hide",placeholders:e.placeholders!==!1,embedFonts:e.embedFonts??!1,iconFonts:Array.isArray(e.iconFonts)?e.iconFonts:e.iconFonts?[e.iconFonts]:[],localFonts:Array.isArray(e.localFonts)?e.localFonts:[],excludeFonts:e.excludeFonts??void 0,fallbackURL:e.fallbackURL??void 0,cache:r,useProxy:typeof e.useProxy=="string"?e.useProxy:"",width:e.width??null,height:e.height??null,format:t,type:e.type??"svg",quality:e.quality??.92,dpr:e.dpr??(window.devicePixelRatio||1),backgroundColor:e.backgroundColor??(["jpeg","webp"].includes(t)?"#ffffff":null),filename:e.filename??"snapDOM",outerTransforms:e.outerTransforms??!0,outerShadows:e.outerShadows??!1}}function Ra(...e){return sn(...e),F}var F=Object.assign(Ia,{plugins:Ra}),Wt=Symbol("snapdom.internal"),J=Symbol("snapdom.internal.silent"),Ve=!1;async function Ia(e,t){if(!e)throw new Error("Element cannot be null or undefined");let r=Pa(t);if(fn(r,t&&t.plugins),ue()&&(r.embedFonts===!0||Oa(e)))for(let n=0;n<3;n++)try{await Wa(e,t),Ve=!1}catch{}return r.iconFonts&&r.iconFonts.length>0&&Rr(r.iconFonts),r.snap||(r.snap={toPng:(n,o)=>F.toPng(n,o),toSvg:(n,o)=>F.toSvg(n,o)}),F.capture(e,r,Wt)}F.capture=async(e,t,r)=>{if(r!==Wt)throw new Error("[snapdom.capture] is internal. Use snapdom(...) instead.");let n=await It(e,t),o={img:async(m,f)=>{let{toImg:d}=await W(()=>import("./toImg.DFigmBwc.js"),__vite__mapDeps([0,1,2,3,4,5]));return d(n,{...m,...f||{}})},svg:async(m,f)=>{let{toSvg:d}=await W(()=>import("./toImg.DFigmBwc.js"),__vite__mapDeps([0,1,2,3,4,5]));return d(n,{...m,...f||{}})},canvas:async(m,f)=>{let{toCanvas:d}=await W(()=>import("./toCanvas.Bnv8dpTe.js"),__vite__mapDeps([2,3,4,5]));return d(n,{...m,...f||{}})},blob:async(m,f)=>{let{toBlob:d}=await W(()=>import("./toBlob.D_bJSbTj.js"),__vite__mapDeps([6,2,3,4,5]));return d(n,{...m,...f||{}})},png:async(m,f)=>{let{rasterize:d}=await W(()=>import("./rasterize-JS5G2XHH.BqRecWAZ.js"),__vite__mapDeps([1,2,3,4,5]));return d(n,{...m,...f||{},format:"png"})},jpeg:async(m,f)=>{let{rasterize:d}=await W(()=>import("./rasterize-JS5G2XHH.BqRecWAZ.js"),__vite__mapDeps([1,2,3,4,5]));return d(n,{...m,...f||{},format:"jpeg"})},webp:async(m,f)=>{let{rasterize:d}=await W(()=>import("./rasterize-JS5G2XHH.BqRecWAZ.js"),__vite__mapDeps([1,2,3,4,5]));return d(n,{...m,...f||{},format:"webp"})},download:async(m,f)=>{let{download:d}=await W(()=>import("./download.CTmWpkl1.js"),__vite__mapDeps([7,6,2,3,4,5]));return d(n,{...m,...f||{}})}},a={...t,export:{url:n},exports:{svg:async m=>{let{toSvg:f}=await W(()=>import("./toImg.DFigmBwc.js"),__vite__mapDeps([0,1,2,3,4,5]));return f(n,{...t,...m||{},[J]:!0})},canvas:async m=>{let{toCanvas:f}=await W(()=>import("./toCanvas.Bnv8dpTe.js"),__vite__mapDeps([2,3,4,5]));return f(n,{...t,...m||{},[J]:!0})},png:async m=>{let{rasterize:f}=await W(()=>import("./rasterize-JS5G2XHH.BqRecWAZ.js"),__vite__mapDeps([1,2,3,4,5]));return f(n,{...t,...m||{},format:"png",[J]:!0})},jpeg:async m=>{let{rasterize:f}=await W(()=>import("./rasterize-JS5G2XHH.BqRecWAZ.js"),__vite__mapDeps([1,2,3,4,5]));return f(n,{...t,...m||{},format:"jpeg",[J]:!0})},jpg:async m=>{let{rasterize:f}=await W(()=>import("./rasterize-JS5G2XHH.BqRecWAZ.js"),__vite__mapDeps([1,2,3,4,5]));return f(n,{...t,...m||{},format:"jpeg",[J]:!0})},webp:async m=>{let{rasterize:f}=await W(()=>import("./rasterize-JS5G2XHH.BqRecWAZ.js"),__vite__mapDeps([1,2,3,4,5]));return f(n,{...t,...m||{},format:"webp",[J]:!0})},blob:async m=>{let{toBlob:f}=await W(()=>import("./toBlob.D_bJSbTj.js"),__vite__mapDeps([6,2,3,4,5]));return f(n,{...t,...m||{},[J]:!0})},img:async m=>{let{toImg:f}=await W(()=>import("./toImg.DFigmBwc.js"),__vite__mapDeps([0,1,2,3,4,5]));return f(n,{...t,...m||{},[J]:!0})}}},i=await cn("defineExports",a),l=Object.assign({},...i.filter(m=>m&&typeof m=="object")),s={...o,...l};s.jpeg&&!s.jpg&&(s.jpg=(m,f)=>s.jpeg(m,f));function c(m,f){let d={...t,...f||{}};return(m==="jpeg"||m==="jpg")&&(d.backgroundColor==null||d.backgroundColor==="transparent")&&(d.backgroundColor="#ffffff"),d}let u=!1,h=Promise.resolve();async function p(m,f){let d=async()=>{let b=s[m];if(!b)throw new Error(`[snapdom] Unknown export type: ${m}`);let w=c(m,f),x={...t,export:{type:m,options:w,url:n}};await K("beforeExport",x);let y=await b(x,w);return await K("afterExport",x,y),u||(u=!0,await K("afterSnap",t)),y};return h=h.then(d)}let g={url:n,toRaw:()=>n,to:(m,f)=>p(m,f),toImg:m=>p("img",m),toSvg:m=>p("svg",m),toCanvas:m=>p("canvas",m),toBlob:m=>p("blob",m),toPng:m=>p("png",m),toJpg:m=>p("jpg",m),toWebp:m=>p("webp",m),download:m=>p("download",m)};for(let m of Object.keys(s)){let f="to"+m.charAt(0).toUpperCase()+m.slice(1);g[f]||(g[f]=d=>p(m,d))}return g};F.toRaw=(e,t)=>F(e,t).then(r=>r.toRaw());F.toImg=(e,t)=>F(e,t).then(r=>r.toImg());F.toSvg=(e,t)=>F(e,t).then(r=>r.toSvg());F.toCanvas=(e,t)=>F(e,t).then(r=>r.toCanvas());F.toBlob=(e,t)=>F(e,t).then(r=>r.toBlob());F.toPng=(e,t)=>F(e,{...t,format:"png"}).then(r=>r.toPng());F.toJpg=(e,t)=>F(e,{...t,format:"jpeg"}).then(r=>r.toJpg());F.toWebp=(e,t)=>F(e,{...t,format:"webp"}).then(r=>r.toWebp());F.download=(e,t)=>F(e,t).then(r=>r.download());async function Wa(e,t){if(Ve)return;let r={...t,fast:!0,embedFonts:!0,scale:.2},n;try{n=await It(e,r)}catch{}await new Promise(o=>requestAnimationFrame(()=>requestAnimationFrame(o))),n&&await new Promise(o=>{let a=new Image;try{a.decoding="sync",a.loading="eager"}catch{}a.style.cssText="position:fixed;left:0px;top:0px;width:10px;height:10px;opacity:0.01;pointer-events:none;",a.src=n,document.body.appendChild(a),(async()=>{try{typeof a.decode=="function"&&await a.decode()}catch{}let i=performance.now();for(;!(a.complete&&a.naturalWidth>0)&&performance.now()-i<900;)await new Promise(l=>setTimeout(l,200));await new Promise(l=>requestAnimationFrame(l));try{a.remove()}catch{}o()})()}),e.querySelectorAll("canvas").forEach(o=>{try{let a=o.getContext("2d",{willReadFrequently:!0});a&&a.getImageData(0,0,1,1)}catch{}}),Ve=!0}function Oa(e){let t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;t.nextNode();){let r=t.currentNode,n=getComputedStyle(r),o=n.backgroundImage&&n.backgroundImage!=="none",a=n.maskImage&&n.maskImage!=="none"||n.webkitMaskImage&&n.webkitMaskImage!=="none";if(o||a||r.tagName==="CANVAS")return!0}return!1}var Da=(e,t)=>t("copy"),qa=xt('<svg class="animate-[check-pop_0.4s_cubic-bezier(0.175,0.885,0.32,1.275)_forwards] w-[1.3rem] h-[1.3rem] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12" class="svelte-e70gno"></polyline></svg>'),ja=xt('<svg class="w-[1.3rem] h-[1.3rem] transition-transform duration-300 group-hover:-translate-y-[2px] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2" class="svelte-e70gno"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" class="svelte-e70gno"></path></svg>'),Ua=(e,t)=>t("export"),Va=ur('<div class="word-actions-wrapper mx-auto no-print not-content mt-24 mb-12 max-w-fit [perspective:1000px] print:hidden svelte-e70gno" style="margin-left: auto; margin-right: auto;"><nav class="flex items-center p-[0.6rem] max-[480px]:p-[0.4rem] bg-white/60 dark:bg-[#1c1c1e]/60 backdrop-blur-[20px] backdrop-saturate-[180%] border border-black/[0.08] dark:border-white/0.08 rounded-[1.5rem] shadow-[0_10px_30px_-5px_rgba(0,0,0,0.05),0_4px_10px_-2px_rgba(0,0,0,0.02),inset_0_1px_1px_rgba(255,255,255,0.8)] dark:shadow-[0_15px_35px_-5px_rgba(0,0,0,0.3),0_5px_15px_-2px_rgba(0,0,0,0.1),inset_0_1px_0_rgba(255,255,255,0.05)] transition-all duration-500 [transition-timing-function:cubic-bezier(0.23,1,0.32,1)] svelte-e70gno" aria-label="Word actions"><button title="将单词详情生成图片并拷贝"><div class="flex items-center justify-center svelte-e70gno"><!></div> <span class="text-[0.75rem] font-semibold tracking-[0.03em] opacity-60 transition-opacity duration-300 group-hover:opacity-100 svelte-e70gno"> </span></button> <div class="w-[1px] h-8 bg-gradient-to-b from-transparent via-black/[0.08] dark:via-white/0.1 to-transparent mx-2 svelte-e70gno"></div> <button class="group action-item flex flex-row items-center justify-center gap-2 py-[0.8rem] px-[1.8rem] min-w-[5.5rem] max-[480px]:px-[1.2rem] max-[480px]:py-[0.7rem] max-[480px]:min-w-[4.5rem] bg-transparent border-none rounded-[1.1rem] cursor-pointer text-[#1d1d1f] dark:text-[#f5f5f7] transition-all duration-300 [transition-timing-function:cubic-bezier(0.4,0,0.2,1)] relative hover:not-disabled:bg-black/[0.03] dark:hover:not-disabled:bg-white/[0.05] active:not-disabled:scale-[0.92] active:not-disabled:bg-black/[0.06] disabled:cursor-not-allowed disabled:opacity-40 svelte-e70gno" title="将单词详情导出为图片文件"><svg class="w-[1.3rem] h-[1.3rem] transition-transform duration-300 group-hover:-translate-y-[2px] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" class="svelte-e70gno"></path><polyline points="7 10 12 15 17 10" class="svelte-e70gno"></polyline><line x1="12" x2="12" y1="15" y2="3" class="svelte-e70gno"></line></svg> <span class="text-[0.75rem] font-semibold tracking-[0.03em] opacity-60 transition-opacity duration-300 group-hover:opacity-100 svelte-e70gno"> </span></button></nav></div>');function Xa(e,t){mr(t,!0);let r=Qe(!1),n=Qe(!1);async function o(b){if(!G(r)){se(r,!0),se(n,!1);try{const w=document.querySelector(".main-pane");if(!w)return;w.classList.add("is-snapping"),await new Promise(y=>setTimeout(y,350));const x=await F(w,{backgroundColor:"transparent",scale:2,exclude:[".word-actions-wrapper",".no-print"],excludeMode:"remove"});if(b==="copy"){const y=await x.toCanvas(),C=await new Promise(S=>y.toBlob(S,"image/png",1));C&&await navigator.clipboard.write([new ClipboardItem({"image/png":C})])}else{const y=document.querySelector("h1")?.innerText?.trim()||"word-card";await x.download({type:"png",filename:`${y}`,quality:1})}w.classList.remove("is-snapping"),se(n,!0),setTimeout(()=>{se(n,!1)},2e3)}catch(w){document.querySelector(".main-pane")?.classList.remove("is-snapping"),console.error(`${b==="copy"?"Copy":"Export"} failed:`,w)}finally{se(r,!1)}}}var a=Va(),i=Z(a),l=Z(i);l.__click=[Da,o];var s=Z(l),c=Z(s);{var u=b=>{var w=qa();Fe(b,w)},h=b=>{var w=ja();Fe(b,w)};pr(c,b=>{G(n)?b(u):b(h,!1)})}ee(s);var p=Le(s,2),g=Z(p,!0);ee(p),ee(l);var m=Le(l,4);m.__click=[Ua,o];var f=Le(Z(m),2),d=Z(f,!0);ee(f),ee(m),ee(i),ee(a),fr(()=>{l.disabled=G(r),yr(l,1,`group action-item flex flex-row items-center justify-center gap-2 py-[0.8rem] px-[1.8rem] min-w-[5.5rem] max-[480px]:px-[1.2rem] max-[480px]:py-[0.7rem] max-[480px]:min-w-[4.5rem] bg-transparent border-none rounded-[1.1rem] cursor-pointer text-[#1d1d1f] dark:text-[#f5f5f7] transition-all duration-300 [transition-timing-function:cubic-bezier(0.4,0,0.2,1)] relative hover:not-disabled:bg-black/[0.03] dark:hover:not-disabled:bg-white/[0.05] active:not-disabled:scale-[0.92] active:not-disabled:bg-black/[0.06] disabled:cursor-not-allowed disabled:opacity-40 ${G(n)?"text-[#34c759]":""}`,"svelte-e70gno"),Ze(g,G(r)?"处理中":G(n)?"已完成":"拷贝"),m.disabled=G(r),Ze(d,G(r)?"处理中":"导出")}),Fe(e,a),dr()}cr(["click"]);export{Xa as W,ue as l};
