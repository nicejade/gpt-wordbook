const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/snapdom.CInGzrMB.js","_astro/preload-helper.BlTxHScW.js"])))=>i.map(i=>d[i]);
import{_ as T}from"./preload-helper.BlTxHScW.js";import"./disclose-version.DsnmJJEf.js";import{e as S,f as V,h as x,c,s as h,t as D,a as w,p as O,b as R,g as o,i as s,r as d,d as C,j as _}from"./render.mTkhE2lq.js";import{i as j}from"./if.BWnMkYcl.js";import{s as L}from"./class.B6AyfGV-.js";/* empty css                       */async function W(b,i,n){if(!o(i)){s(i,!0),s(n,!1);try{const{snapdom:r}=await T(async()=>{const{snapdom:e}=await import("./snapdom.CInGzrMB.js").then(u=>u.s);return{snapdom:e}},__vite__mapDeps([0,1])),t=document.querySelector(".word-content");if(!t)return;t.classList.add("is-snapping"),await new Promise(e=>setTimeout(e,350));const m=await(await r(t,{backgroundColor:"transparent",scale:2,exclude:[".word-actions-wrapper",".no-print"],excludeMode:"remove"})).toCanvas(),l=await new Promise(e=>m.toBlob(e,"image/png",1));l&&await navigator.clipboard.write([new ClipboardItem({"image/png":l})]),t.classList.remove("is-snapping"),s(n,!0),setTimeout(()=>{s(n,!1)},2e3)}catch(r){document.querySelector(".word-content")?.classList.remove("is-snapping"),console.error("Copy failed:",r)}finally{s(i,!1)}}}async function H(b,i,n){if(!o(i)){s(i,!0),s(n,!1);try{const{snapdom:r}=await T(async()=>{const{snapdom:l}=await import("./snapdom.CInGzrMB.js").then(e=>e.s);return{snapdom:l}},__vite__mapDeps([0,1])),t=document.querySelector(".word-content");if(!t)return;t.classList.add("is-snapping"),await new Promise(l=>setTimeout(l,350));const p=await r(t,{backgroundColor:"transparent",scale:2,exclude:[".word-actions-wrapper",".no-print"],excludeMode:"remove"}),m=document.querySelector("h1")?.innerText?.trim()||"word-card";await p.download({type:"png",filename:`${m}`,quality:1}),t.classList.remove("is-snapping"),s(n,!0),setTimeout(()=>{s(n,!1)},2e3)}catch(r){document.querySelector(".word-content")?.classList.remove("is-snapping"),console.error("Export failed:",r)}finally{s(i,!1)}}}var F=_('<svg class="animate-[check-pop_0.4s_cubic-bezier(0.175,0.885,0.32,1.275)_forwards] w-[1.3rem] h-[1.3rem] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12" class="svelte-e70gno"></polyline></svg>'),G=_('<svg class="w-[1.3rem] h-[1.3rem] transition-transform duration-300 group-hover:-translate-y-[2px] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2" class="svelte-e70gno"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" class="svelte-e70gno"></path></svg>'),J=_('<svg class="animate-[check-pop_0.4s_cubic-bezier(0.175,0.885,0.32,1.275)_forwards] w-[1.3rem] h-[1.3rem] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12" class="svelte-e70gno"></polyline></svg>'),K=_('<svg class="w-[1.3rem] h-[1.3rem] transition-transform duration-300 group-hover:-translate-y-[2px] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" class="svelte-e70gno"></path><polyline points="7 10 12 15 17 10" class="svelte-e70gno"></polyline><line x1="12" x2="12" y1="15" y2="3" class="svelte-e70gno"></line></svg>'),N=V(`<div class="word-actions-wrapper mx-auto no-print not-content mt-8 mb-12 max-w-fit [perspective:1000px] print:hidden svelte-e70gno" style="margin-left: auto; margin-right: auto;"><nav class="flex items-center p-[0.6rem] max-[480px]:p-[0.4rem] bg-white/60 [:root[data-theme='dark']_&amp;]:bg-[#1c1c1e]/60 backdrop-blur-[20px] backdrop-saturate-[180%] border border-black/[0.08] [:root[data-theme='dark']_&amp;]:border-white/0.08 rounded-[1.5rem] shadow-[0_10px_30px_-5px_rgba(0,0,0,0.05),0_4px_10px_-2px_rgba(0,0,0,0.02),inset_0_1px_1px_rgba(255,255,255,0.8)] [:root[data-theme='dark']_&amp;]:shadow-[0_15px_35px_-5px_rgba(0,0,0,0.3),0_5px_15px_-2px_rgba(0,0,0,0.1),inset_0_1px_0_rgba(255,255,255,0.05)] transition-all duration-500 [transition-timing-function:cubic-bezier(0.23,1,0.32,1)] svelte-e70gno" aria-label="Word actions"><button title="将单词详情生成图片并拷贝"><div class="flex items-center justify-center svelte-e70gno"><!></div> <span class="text-[0.75rem] font-semibold tracking-[0.03em] opacity-60 transition-opacity duration-300 group-hover:opacity-100 svelte-e70gno"> </span></button> <div class="w-[1px] h-8 bg-gradient-to-b from-transparent via-black/[0.08] [:root[data-theme='dark']_&amp;]:via-white/0.1 to-transparent !mx-2 svelte-e70gno"></div> <button title="将单词详情导出为图片文件"><div class="flex items-center justify-center svelte-e70gno"><!></div> <span class="text-[0.75rem] font-semibold tracking-[0.03em] opacity-60 transition-opacity duration-300 group-hover:opacity-100 svelte-e70gno"> </span></button></nav></div>`);function ee(b,i){R(i,!0);let n=x(!1),r=x(!1),t=x(!1),p=x(!1);var m=N(),l=c(m),e=c(l);e.__click=[W,n,r];var u=c(e),q=c(u);{var E=a=>{var v=F();w(a,v)},z=a=>{var v=G();w(a,v)};j(q,a=>{o(r)?a(E):a(z,!1)})}d(u);var y=h(u,2),B=c(y,!0);d(y),d(e);var g=h(e,4);g.__click=[H,t,p];var f=c(g),M=c(f);{var P=a=>{var v=J();w(a,v)},A=a=>{var v=K();w(a,v)};j(M,a=>{o(p)?a(P):a(A,!1)})}d(f);var k=h(f,2),I=c(k,!0);d(k),d(g),d(l),d(m),D(()=>{e.disabled=o(n),L(e,1,`group action-item flex flex-row items-center justify-center gap-2 py-[0.8rem] px-[1.8rem] min-w-[5.5rem] max-[480px]:px-[1.2rem] max-[480px]:py-[0.7rem] max-[480px]:min-w-[4.5rem] bg-transparent border-none rounded-[1.25rem] cursor-pointer text-[#1d1d1f] [:root[data-theme='dark']_&]:text-[#f5f5f7] transition-all duration-300 [transition-timing-function:cubic-bezier(0.4,0,0.2,1)] relative hover:not-disabled:bg-black/[0.03] [:root[data-theme='dark']_&]:hover:not-disabled:bg-white/[0.05] active:not-disabled:scale-[0.92] active:not-disabled:bg-black/[0.06] disabled:cursor-not-allowed disabled:opacity-40 ${o(r)?"text-[#34c759]":""}`,"svelte-e70gno"),C(B,o(n)?"处理中":o(r)?"已完成":"拷贝"),g.disabled=o(t),L(g,1,`group action-item flex flex-row items-center justify-center gap-2 py-[0.8rem] px-[1.8rem] min-w-[5.5rem] max-[480px]:px-[1.2rem] max-[480px]:py-[0.7rem] max-[480px]:min-w-[4.5rem] bg-transparent border-none rounded-[1.1rem] cursor-pointer text-[#1d1d1f] [:root[data-theme='dark']_&]:text-[#f5f5f7] transition-all duration-300 [transition-timing-function:cubic-bezier(0.4,0,0.2,1)] relative hover:not-disabled:bg-black/[0.03] [:root[data-theme='dark']_&]:hover:not-disabled:bg-white/[0.05] active:not-disabled:scale-[0.92] active:not-disabled:bg-black/[0.06] disabled:cursor-not-allowed disabled:opacity-40 ${o(p)?"text-[#34c759]":""}`,"svelte-e70gno"),C(I,o(t)?"处理中":o(p)?"已完成":"导出")}),w(b,m),O()}S(["click"]);export{ee as default};
