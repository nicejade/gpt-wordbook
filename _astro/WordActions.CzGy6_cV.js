const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/snapdom.CInGzrMB.js","_astro/preload-helper.BlTxHScW.js"])))=>i.map(i=>d[i]);
import{_ as P}from"./preload-helper.BlTxHScW.js";import"./disclose-version.DsnmJJEf.js";import{f as F,h as C,d as M,E as H,r as O,H as V,i as U,s as W,j as z,k as G,l as B,n as J,U as K,o as Y,q as Z,v as Q,b as X,w as $,x as ee,y as j,z as _,A as N,B as te,C as T,D as ae,F as re,G as d,I as v,J as g,K as D,L as I}from"./render.BvbVBjJC.js";/* empty css                       */function R(l,o,r=!1){C&&M();var e=l,t=null,n=null,a=K,i=r?H:0,s=!1;const b=(u,p=!0)=>{s=!0,A(p,u)};var m=null;function E(){m!==null&&(m.lastChild.remove(),e.before(m),m=null);var u=a?t:n,p=a?n:t;u&&Z(u),p&&Q(p,()=>{a?n=null:t=null})}const A=(u,p)=>{if(a===(a=u))return;let f=!1;if(C){const q=O(e)===V;!!a===q&&(e=U(),W(e),z(!1),f=!0)}var w=Y(),h=e;if(w&&(m=document.createDocumentFragment(),m.append(h=G())),a?t??=p&&B(()=>p(h)):n??=p&&B(()=>p(h)),w){var y=J,L=a?t:n,k=a?n:t;L&&y.skipped_effects.delete(L),k&&y.skipped_effects.add(k),y.add_callback(E)}else E();f&&z(!0)};F(()=>{s=!1,o(b),s||A(null,null)},i),C&&(e=X)}function se(l,o,r){var e=l==null?"":""+l;return e=e?e+" "+o:o,e===""?null:e}function S(l,o,r,e,t,n){var a=l.__className;if(C||a!==r||a===void 0){var i=se(r,e);(!C||i!==l.getAttribute("class"))&&(i==null?l.removeAttribute("class"):l.className=i),l.__className=r}return n}async function ne(l,o,r){if(!d(o)){v(o,!0),v(r,!1);try{const{snapdom:e}=await P(async()=>{const{snapdom:s}=await import("./snapdom.CInGzrMB.js").then(b=>b.s);return{snapdom:s}},__vite__mapDeps([0,1])),t=document.querySelector(".main-pane");if(!t)return;t.classList.add("is-snapping"),await new Promise(s=>setTimeout(s,350));const a=await(await e(t,{backgroundColor:"transparent",scale:2,exclude:[".word-actions-wrapper",".no-print"],excludeMode:"remove"})).toCanvas(),i=await new Promise(s=>a.toBlob(s,"image/png",1));i&&await navigator.clipboard.write([new ClipboardItem({"image/png":i})]),t.classList.remove("is-snapping"),v(r,!0),setTimeout(()=>{v(r,!1)},2e3)}catch(e){document.querySelector(".main-pane")?.classList.remove("is-snapping"),console.error("Copy failed:",e)}finally{v(o,!1)}}}async function oe(l,o,r){if(!d(o)){v(o,!0),v(r,!1);try{const{snapdom:e}=await P(async()=>{const{snapdom:i}=await import("./snapdom.CInGzrMB.js").then(s=>s.s);return{snapdom:i}},__vite__mapDeps([0,1])),t=document.querySelector(".main-pane");if(!t)return;t.classList.add("is-snapping"),await new Promise(i=>setTimeout(i,350));const n=await e(t,{backgroundColor:"transparent",scale:2,exclude:[".word-actions-wrapper",".no-print"],excludeMode:"remove"}),a=document.querySelector("h1")?.innerText?.trim()||"word-card";await n.download({type:"png",filename:`${a}`,quality:1}),t.classList.remove("is-snapping"),v(r,!0),setTimeout(()=>{v(r,!1)},2e3)}catch(e){document.querySelector(".main-pane")?.classList.remove("is-snapping"),console.error("Export failed:",e)}finally{v(o,!1)}}}var ie=I('<svg class="animate-[check-pop_0.4s_cubic-bezier(0.175,0.885,0.32,1.275)_forwards] w-[1.3rem] h-[1.3rem] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12" class="svelte-e70gno"></polyline></svg>'),le=I('<svg class="w-[1.3rem] h-[1.3rem] transition-transform duration-300 group-hover:-translate-y-[2px] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2" class="svelte-e70gno"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" class="svelte-e70gno"></path></svg>'),ce=I('<svg class="animate-[check-pop_0.4s_cubic-bezier(0.175,0.885,0.32,1.275)_forwards] w-[1.3rem] h-[1.3rem] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12" class="svelte-e70gno"></polyline></svg>'),de=I('<svg class="w-[1.3rem] h-[1.3rem] transition-transform duration-300 group-hover:-translate-y-[2px] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" class="svelte-e70gno"></path><polyline points="7 10 12 15 17 10" class="svelte-e70gno"></polyline><line x1="12" x2="12" y1="15" y2="3" class="svelte-e70gno"></line></svg>'),pe=ee('<div class="word-actions-wrapper mx-auto no-print not-content mt-8 mb-12 max-w-fit [perspective:1000px] print:hidden svelte-e70gno" style="margin-left: auto; margin-right: auto;"><nav class="flex items-center p-[0.6rem] max-[480px]:p-[0.4rem] bg-white/60 dark:bg-[#1c1c1e]/60 backdrop-blur-[20px] backdrop-saturate-[180%] border border-black/[0.08] dark:border-white/0.08 rounded-[1.5rem] shadow-[0_10px_30px_-5px_rgba(0,0,0,0.05),0_4px_10px_-2px_rgba(0,0,0,0.02),inset_0_1px_1px_rgba(255,255,255,0.8)] dark:shadow-[0_15px_35px_-5px_rgba(0,0,0,0.3),0_5px_15px_-2px_rgba(0,0,0,0.1),inset_0_1px_0_rgba(255,255,255,0.05)] transition-all duration-500 [transition-timing-function:cubic-bezier(0.23,1,0.32,1)] svelte-e70gno" aria-label="Word actions"><button title="将单词详情生成图片并拷贝"><div class="flex items-center justify-center svelte-e70gno"><!></div> <span class="text-[0.75rem] font-semibold tracking-[0.03em] opacity-60 transition-opacity duration-300 group-hover:opacity-100 svelte-e70gno"> </span></button> <div class="w-[1px] h-8 bg-gradient-to-b from-transparent via-black/[0.08] dark:via-white/0.1 to-transparent !mx-2 svelte-e70gno"></div> <button title="将单词详情导出为图片文件"><div class="flex items-center justify-center svelte-e70gno"><!></div> <span class="text-[0.75rem] font-semibold tracking-[0.03em] opacity-60 transition-opacity duration-300 group-hover:opacity-100 svelte-e70gno"> </span></button></nav></div>');function _e(l,o){re(o,!0);let r=j(!1),e=j(!1),t=j(!1),n=j(!1);var a=pe(),i=_(a),s=_(i);s.__click=[ne,r,e];var b=_(s),m=_(b);{var E=c=>{var x=ie();T(c,x)},A=c=>{var x=le();T(c,x)};R(m,c=>{d(e)?c(E):c(A,!1)})}g(b);var u=N(b,2),p=_(u,!0);g(u),g(s);var f=N(s,4);f.__click=[oe,t,n];var w=_(f),h=_(w);{var y=c=>{var x=ce();T(c,x)},L=c=>{var x=de();T(c,x)};R(h,c=>{d(n)?c(y):c(L,!1)})}g(w);var k=N(w,2),q=_(k,!0);g(k),g(f),g(i),g(a),te(()=>{s.disabled=d(r),S(s,1,`group action-item flex flex-row items-center justify-center gap-2 py-[0.8rem] px-[1.8rem] min-w-[5.5rem] max-[480px]:px-[1.2rem] max-[480px]:py-[0.7rem] max-[480px]:min-w-[4.5rem] bg-transparent border-none rounded-[1.25rem] cursor-pointer text-[#1d1d1f] dark:text-[#f5f5f7] transition-all duration-300 [transition-timing-function:cubic-bezier(0.4,0,0.2,1)] relative hover:not-disabled:bg-black/[0.03] dark:hover:not-disabled:bg-white/[0.05] active:not-disabled:scale-[0.92] active:not-disabled:bg-black/[0.06] disabled:cursor-not-allowed disabled:opacity-40 ${d(e)?"text-[#34c759]":""}`,"svelte-e70gno"),D(p,d(r)?"处理中":d(e)?"已完成":"拷贝"),f.disabled=d(t),S(f,1,`group action-item flex flex-row items-center justify-center gap-2 py-[0.8rem] px-[1.8rem] min-w-[5.5rem] max-[480px]:px-[1.2rem] max-[480px]:py-[0.7rem] max-[480px]:min-w-[4.5rem] bg-transparent border-none rounded-[1.1rem] cursor-pointer text-[#1d1d1f] dark:text-[#f5f5f7] transition-all duration-300 [transition-timing-function:cubic-bezier(0.4,0,0.2,1)] relative hover:not-disabled:bg-black/[0.03] dark:hover:not-disabled:bg-white/[0.05] active:not-disabled:scale-[0.92] active:not-disabled:bg-black/[0.06] disabled:cursor-not-allowed disabled:opacity-40 ${d(n)?"text-[#34c759]":""}`,"svelte-e70gno"),D(q,d(t)?"处理中":d(n)?"已完成":"导出")}),T(l,a),ae()}$(["click"]);export{_e as default};
