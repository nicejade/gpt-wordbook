const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/snapdom.CInGzrMB.js","_astro/preload-helper.BlTxHScW.js"])))=>i.map(i=>d[i]);
import{_ as R}from"./preload-helper.BlTxHScW.js";import{f as z,h as k,d as D,E as F,r as H,H as M,i as O,s as U,j as L,k as V,l as S,n as W,U as G,o as J,q as K,v as Y,b as Z,w as $,x as Q,y as g,z as I,A as X,B as N,C as ee,D as f,F as y,G as j,I as te,J as b,K as q,L as B}from"./render.DHABeUvw.js";/* empty css                       */const ae="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ae);function re(a,l,r=!1){k&&D();var e=a,d=null,o=null,t=G,i=r?F:0,m=!1;const T=(u,n=!0)=>{m=!0,x(n,u)};var v=null;function A(){v!==null&&(v.lastChild.remove(),e.before(v),v=null);var u=t?d:o,n=t?o:d;u&&K(u),n&&Y(n,()=>{t?o=null:d=null})}const x=(u,n)=>{if(t===(t=u))return;let w=!1;if(k){const p=H(e)===M;!!t===p&&(e=O(),U(e),L(!1),w=!0)}var C=J(),s=e;if(C&&(v=document.createDocumentFragment(),v.append(s=V())),t?d??=n&&S(()=>n(s)):o??=n&&S(()=>n(s)),C){var c=W,_=t?d:o,h=t?o:d;_&&c.skipped_effects.delete(_),h&&c.skipped_effects.add(h),c.add_callback(A)}else A();w&&L(!0)};z(()=>{m=!1,l(T),m||x(null,null)},i),k&&(e=Z)}function ne(a,l,r){var e=a==null?"":""+a;return e=e?e+" "+l:l,e===""?null:e}function se(a,l,r,e,d,o){var t=a.__className;if(k||t!==r||t===void 0){var i=ne(r,e);(!k||i!==a.getAttribute("class"))&&(i==null?a.removeAttribute("class"):a.className=i),a.__className=r}return o}var oe=(a,l)=>l("copy"),ie=B('<svg class="animate-[check-pop_0.4s_cubic-bezier(0.175,0.885,0.32,1.275)_forwards] w-[1.3rem] h-[1.3rem] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12" class="svelte-e70gno"></polyline></svg>'),le=B('<svg class="w-[1.3rem] h-[1.3rem] transition-transform duration-300 group-hover:-translate-y-[2px] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2" class="svelte-e70gno"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" class="svelte-e70gno"></path></svg>'),ce=(a,l)=>l("export"),de=Q('<div class="word-actions-wrapper mx-auto no-print not-content mt-8 mb-12 max-w-fit [perspective:1000px] print:hidden svelte-e70gno" style="margin-left: auto; margin-right: auto;"><nav class="flex items-center p-[0.6rem] max-[480px]:p-[0.4rem] bg-white/60 dark:bg-[#1c1c1e]/60 backdrop-blur-[20px] backdrop-saturate-[180%] border border-black/[0.08] dark:border-white/0.08 rounded-[1.5rem] shadow-[0_10px_30px_-5px_rgba(0,0,0,0.05),0_4px_10px_-2px_rgba(0,0,0,0.02),inset_0_1px_1px_rgba(255,255,255,0.8)] dark:shadow-[0_15px_35px_-5px_rgba(0,0,0,0.3),0_5px_15px_-2px_rgba(0,0,0,0.1),inset_0_1px_0_rgba(255,255,255,0.05)] transition-all duration-500 [transition-timing-function:cubic-bezier(0.23,1,0.32,1)] svelte-e70gno" aria-label="Word actions"><button title="将单词详情生成图片并拷贝"><div class="flex items-center justify-center svelte-e70gno"><!></div> <span class="text-[0.75rem] font-semibold tracking-[0.03em] opacity-60 transition-opacity duration-300 group-hover:opacity-100 svelte-e70gno"> </span></button> <div class="w-[1px] h-8 bg-gradient-to-b from-transparent via-black/[0.08] dark:via-white/0.1 to-transparent !mx-2 svelte-e70gno"></div> <button class="group action-item flex flex-row items-center justify-center gap-2 py-[0.8rem] px-[1.8rem] min-w-[5.5rem] max-[480px]:px-[1.2rem] max-[480px]:py-[0.7rem] max-[480px]:min-w-[4.5rem] bg-transparent border-none rounded-[1.1rem] cursor-pointer text-[#1d1d1f] dark:text-[#f5f5f7] transition-all duration-300 [transition-timing-function:cubic-bezier(0.4,0,0.2,1)] relative hover:not-disabled:bg-black/[0.03] dark:hover:not-disabled:bg-white/[0.05] active:not-disabled:scale-[0.92] active:not-disabled:bg-black/[0.06] disabled:cursor-not-allowed disabled:opacity-40 svelte-e70gno" title="将单词详情导出为图片文件"><svg class="w-[1.3rem] h-[1.3rem] transition-transform duration-300 group-hover:-translate-y-[2px] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" class="svelte-e70gno"></path><polyline points="7 10 12 15 17 10" class="svelte-e70gno"></polyline><line x1="12" x2="12" y1="15" y2="3" class="svelte-e70gno"></line></svg> <span class="text-[0.75rem] font-semibold tracking-[0.03em] opacity-60 transition-opacity duration-300 group-hover:opacity-100 svelte-e70gno"> </span></button></nav></div>');function fe(a,l){te(l,!0);let r=j(!1),e=j(!1);async function d(s){if(!f(r)){y(r,!0),y(e,!1);try{const{snapdom:c}=await R(async()=>{const{snapdom:p}=await import("./snapdom.CInGzrMB.js").then(E=>E.s);return{snapdom:p}},__vite__mapDeps([0,1])),_=document.querySelector(".main-pane");if(!_)return;_.classList.add("is-snapping"),await new Promise(p=>setTimeout(p,350));const h=await c(_,{backgroundColor:"transparent",scale:2,exclude:[".word-actions-wrapper",".no-print"],excludeMode:"remove"});if(s==="copy"){const p=await h.toCanvas(),E=await new Promise(P=>p.toBlob(P,"image/png",1));E&&await navigator.clipboard.write([new ClipboardItem({"image/png":E})])}else{const p=document.querySelector("h1")?.innerText?.trim()||"word-card";await h.download({type:"png",filename:`${p}`,quality:1})}_.classList.remove("is-snapping"),y(e,!0),setTimeout(()=>{y(e,!1)},2e3)}catch(c){document.querySelector(".main-pane")?.classList.remove("is-snapping"),console.error(`${s==="copy"?"Copy":"Export"} failed:`,c)}finally{y(r,!1)}}}var o=de(),t=g(o),i=g(t);i.__click=[oe,d];var m=g(i),T=g(m);{var v=s=>{var c=ie();N(s,c)},A=s=>{var c=le();N(s,c)};re(T,s=>{f(e)?s(v):s(A,!1)})}b(m);var x=I(m,2),u=g(x,!0);b(x),b(i);var n=I(i,4);n.__click=[ce,d];var w=I(g(n),2),C=g(w,!0);b(w),b(n),b(t),b(o),X(()=>{i.disabled=f(r),se(i,1,`group action-item flex flex-row items-center justify-center gap-2 py-[0.8rem] px-[1.8rem] min-w-[5.5rem] max-[480px]:px-[1.2rem] max-[480px]:py-[0.7rem] max-[480px]:min-w-[4.5rem] bg-transparent border-none rounded-[1.25rem] cursor-pointer text-[#1d1d1f] dark:text-[#f5f5f7] transition-all duration-300 [transition-timing-function:cubic-bezier(0.4,0,0.2,1)] relative hover:not-disabled:bg-black/[0.03] dark:hover:not-disabled:bg-white/[0.05] active:not-disabled:scale-[0.92] active:not-disabled:bg-black/[0.06] disabled:cursor-not-allowed disabled:opacity-40 ${f(e)?"text-[#34c759]":""}`,"svelte-e70gno"),q(u,f(r)?"处理中":f(e)?"已完成":"拷贝"),n.disabled=f(r),q(C,f(r)?"处理中":"导出")}),N(a,o),ee()}$(["click"]);export{fe as default};
