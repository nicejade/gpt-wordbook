const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/snapdom.CInGzrMB.js","_astro/preload-helper.BlTxHScW.js"])))=>i.map(i=>d[i]);
import{_ as P}from"./preload-helper.BlTxHScW.js";import{f as F,h as E,d as M,E as O,r as V,H,i as U,s as W,j as S,k as G,l as B,n as J,U as K,o as Y,q as Z,v as Q,b as X,w as $,x as ee,y as I,z as _,A as q,B as te,C,D as ae,F as d,G as v,I as re,J as g,K as R,L as j}from"./render.DVczhXa6.js";/* empty css                       */const ne="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ne);function z(l,o,r=!1){E&&M();var e=l,t=null,s=null,a=K,i=r?O:0,n=!1;const b=(u,p=!0)=>{n=!0,L(p,u)};var m=null;function T(){m!==null&&(m.lastChild.remove(),e.before(m),m=null);var u=a?t:s,p=a?s:t;u&&Z(u),p&&Q(p,()=>{a?s=null:t=null})}const L=(u,p)=>{if(a===(a=u))return;let f=!1;if(E){const N=V(e)===H;!!a===N&&(e=U(),W(e),S(!1),f=!0)}var x=Y(),h=e;if(x&&(m=document.createDocumentFragment(),m.append(h=G())),a?t??=p&&B(()=>p(h)):s??=p&&B(()=>p(h)),x){var y=J,A=a?t:s,k=a?s:t;A&&y.skipped_effects.delete(A),k&&y.skipped_effects.add(k),y.add_callback(T)}else T();f&&S(!0)};F(()=>{n=!1,o(b),n||L(null,null)},i),E&&(e=X)}function se(l,o,r){var e=l==null?"":""+l;return e=e?e+" "+o:o,e===""?null:e}function D(l,o,r,e,t,s){var a=l.__className;if(E||a!==r||a===void 0){var i=se(r,e);(!E||i!==l.getAttribute("class"))&&(i==null?l.removeAttribute("class"):l.className=i),l.__className=r}return s}async function oe(l,o,r){if(!d(o)){v(o,!0),v(r,!1);try{const{snapdom:e}=await P(async()=>{const{snapdom:n}=await import("./snapdom.CInGzrMB.js").then(b=>b.s);return{snapdom:n}},__vite__mapDeps([0,1])),t=document.querySelector(".main-pane");if(!t)return;t.classList.add("is-snapping"),await new Promise(n=>setTimeout(n,350));const a=await(await e(t,{backgroundColor:"transparent",scale:2,exclude:[".word-actions-wrapper",".no-print"],excludeMode:"remove"})).toCanvas(),i=await new Promise(n=>a.toBlob(n,"image/png",1));i&&await navigator.clipboard.write([new ClipboardItem({"image/png":i})]),t.classList.remove("is-snapping"),v(r,!0),setTimeout(()=>{v(r,!1)},2e3)}catch(e){document.querySelector(".main-pane")?.classList.remove("is-snapping"),console.error("Copy failed:",e)}finally{v(o,!1)}}}async function ie(l,o,r){if(!d(o)){v(o,!0),v(r,!1);try{const{snapdom:e}=await P(async()=>{const{snapdom:i}=await import("./snapdom.CInGzrMB.js").then(n=>n.s);return{snapdom:i}},__vite__mapDeps([0,1])),t=document.querySelector(".main-pane");if(!t)return;t.classList.add("is-snapping"),await new Promise(i=>setTimeout(i,350));const s=await e(t,{backgroundColor:"transparent",scale:2,exclude:[".word-actions-wrapper",".no-print"],excludeMode:"remove"}),a=document.querySelector("h1")?.innerText?.trim()||"word-card";await s.download({type:"png",filename:`${a}`,quality:1}),t.classList.remove("is-snapping"),v(r,!0),setTimeout(()=>{v(r,!1)},2e3)}catch(e){document.querySelector(".main-pane")?.classList.remove("is-snapping"),console.error("Export failed:",e)}finally{v(o,!1)}}}var le=j('<svg class="animate-[check-pop_0.4s_cubic-bezier(0.175,0.885,0.32,1.275)_forwards] w-[1.3rem] h-[1.3rem] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12" class="svelte-e70gno"></polyline></svg>'),ce=j('<svg class="w-[1.3rem] h-[1.3rem] transition-transform duration-300 group-hover:-translate-y-[2px] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2" class="svelte-e70gno"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" class="svelte-e70gno"></path></svg>'),de=j('<svg class="animate-[check-pop_0.4s_cubic-bezier(0.175,0.885,0.32,1.275)_forwards] w-[1.3rem] h-[1.3rem] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12" class="svelte-e70gno"></polyline></svg>'),pe=j('<svg class="w-[1.3rem] h-[1.3rem] transition-transform duration-300 group-hover:-translate-y-[2px] svelte-e70gno" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" class="svelte-e70gno"></path><polyline points="7 10 12 15 17 10" class="svelte-e70gno"></polyline><line x1="12" x2="12" y1="15" y2="3" class="svelte-e70gno"></line></svg>'),ve=ee('<div class="word-actions-wrapper mx-auto no-print not-content mt-8 mb-12 max-w-fit [perspective:1000px] print:hidden svelte-e70gno" style="margin-left: auto; margin-right: auto;"><nav class="flex items-center p-[0.6rem] max-[480px]:p-[0.4rem] bg-white/60 dark:bg-[#1c1c1e]/60 backdrop-blur-[20px] backdrop-saturate-[180%] border border-black/[0.08] dark:border-white/0.08 rounded-[1.5rem] shadow-[0_10px_30px_-5px_rgba(0,0,0,0.05),0_4px_10px_-2px_rgba(0,0,0,0.02),inset_0_1px_1px_rgba(255,255,255,0.8)] dark:shadow-[0_15px_35px_-5px_rgba(0,0,0,0.3),0_5px_15px_-2px_rgba(0,0,0,0.1),inset_0_1px_0_rgba(255,255,255,0.05)] transition-all duration-500 [transition-timing-function:cubic-bezier(0.23,1,0.32,1)] svelte-e70gno" aria-label="Word actions"><button title="将单词详情生成图片并拷贝"><div class="flex items-center justify-center svelte-e70gno"><!></div> <span class="text-[0.75rem] font-semibold tracking-[0.03em] opacity-60 transition-opacity duration-300 group-hover:opacity-100 svelte-e70gno"> </span></button> <div class="w-[1px] h-8 bg-gradient-to-b from-transparent via-black/[0.08] dark:via-white/0.1 to-transparent !mx-2 svelte-e70gno"></div> <button title="将单词详情导出为图片文件"><div class="flex items-center justify-center svelte-e70gno"><!></div> <span class="text-[0.75rem] font-semibold tracking-[0.03em] opacity-60 transition-opacity duration-300 group-hover:opacity-100 svelte-e70gno"> </span></button></nav></div>');function _e(l,o){re(o,!0);let r=I(!1),e=I(!1),t=I(!1),s=I(!1);var a=ve(),i=_(a),n=_(i);n.__click=[oe,r,e];var b=_(n),m=_(b);{var T=c=>{var w=le();C(c,w)},L=c=>{var w=ce();C(c,w)};z(m,c=>{d(e)?c(T):c(L,!1)})}g(b);var u=q(b,2),p=_(u,!0);g(u),g(n);var f=q(n,4);f.__click=[ie,t,s];var x=_(f),h=_(x);{var y=c=>{var w=de();C(c,w)},A=c=>{var w=pe();C(c,w)};z(h,c=>{d(s)?c(y):c(A,!1)})}g(x);var k=q(x,2),N=_(k,!0);g(k),g(f),g(i),g(a),te(()=>{n.disabled=d(r),D(n,1,`group action-item flex flex-row items-center justify-center gap-2 py-[0.8rem] px-[1.8rem] min-w-[5.5rem] max-[480px]:px-[1.2rem] max-[480px]:py-[0.7rem] max-[480px]:min-w-[4.5rem] bg-transparent border-none rounded-[1.25rem] cursor-pointer text-[#1d1d1f] dark:text-[#f5f5f7] transition-all duration-300 [transition-timing-function:cubic-bezier(0.4,0,0.2,1)] relative hover:not-disabled:bg-black/[0.03] dark:hover:not-disabled:bg-white/[0.05] active:not-disabled:scale-[0.92] active:not-disabled:bg-black/[0.06] disabled:cursor-not-allowed disabled:opacity-40 ${d(e)?"text-[#34c759]":""}`,"svelte-e70gno"),R(p,d(r)?"处理中":d(e)?"已完成":"拷贝"),f.disabled=d(t),D(f,1,`group action-item flex flex-row items-center justify-center gap-2 py-[0.8rem] px-[1.8rem] min-w-[5.5rem] max-[480px]:px-[1.2rem] max-[480px]:py-[0.7rem] max-[480px]:min-w-[4.5rem] bg-transparent border-none rounded-[1.1rem] cursor-pointer text-[#1d1d1f] dark:text-[#f5f5f7] transition-all duration-300 [transition-timing-function:cubic-bezier(0.4,0,0.2,1)] relative hover:not-disabled:bg-black/[0.03] dark:hover:not-disabled:bg-white/[0.05] active:not-disabled:scale-[0.92] active:not-disabled:bg-black/[0.06] disabled:cursor-not-allowed disabled:opacity-40 ${d(s)?"text-[#34c759]":""}`,"svelte-e70gno"),R(N,d(t)?"处理中":d(s)?"已完成":"导出")}),C(l,a),ae()}$(["click"]);export{_e as default};
